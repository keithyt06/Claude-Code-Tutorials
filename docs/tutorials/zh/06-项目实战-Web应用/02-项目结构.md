# æ¨¡å— 2: é¡¹ç›®ç»“æ„æ­å»º

> æ­å»ºä¸“ä¸šçš„é¡¹ç›®ç›®å½•ç»“æ„å’Œå¼€å‘ç¯å¢ƒ

## å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬æ¨¡å—å,ä½ å°†èƒ½å¤Ÿ:
- åˆ›å»ºç»„ç»‡è‰¯å¥½çš„é¡¹ç›®ç›®å½•ç»“æ„
- ä½¿ç”¨ Git åˆå§‹åŒ–ç‰ˆæœ¬æ§åˆ¶
- é…ç½®å¼€å‘ç¯å¢ƒ
- å®‰è£…å’Œé…ç½®å¿…è¦çš„ä¾èµ–åŒ…

## æ¦‚è¿°

è‰¯å¥½çš„é¡¹ç›®ç»“æ„å¯¹äºå¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§è‡³å…³é‡è¦ã€‚åœ¨æœ¬æ¨¡å—ä¸­,æˆ‘ä»¬å°†ä¸º Todo App Pro é¡¹ç›®æ‰“ä¸‹åŸºç¡€ã€‚

## 1. åˆ›å»ºé¡¹ç›®ç›®å½•

### åŸºç¡€é¡¹ç›®è®¾ç½®

**ä½ ä¸ Claude çš„å¯¹è¯**:
```
ä½ :ä¸º todo-app-pro åˆ›å»ºç›®å½•ç»“æ„

Claude:
æˆ‘å°†ä¸ºä½ åˆ›å»ºä¸“ä¸šçš„é¡¹ç›®ç»“æ„:

todo-app-pro/
â”œâ”€â”€ client/                    # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ login.html
â”‚   â”œâ”€â”€ register.html
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ style.css
â”‚   â”‚   â”œâ”€â”€ components.css
â”‚   â”‚   â””â”€â”€ responsive.css
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ app.js
â”‚   â”‚   â”œâ”€â”€ task.js
â”‚   â”‚   â”œâ”€â”€ ui.js
â”‚   â”‚   â”œâ”€â”€ api.js
â”‚   â”‚   â”œâ”€â”€ auth.js
â”‚   â”‚   â””â”€â”€ storage.js
â”‚   â””â”€â”€ assets/
â”‚       â””â”€â”€ images/
â”œâ”€â”€ server/                   # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ models/
â”‚   â””â”€â”€ middleware/
â”œâ”€â”€ package.json
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md

è®©æˆ‘ä¸ºä½ åˆ›å»ºè¿™ä¸ªç»“æ„ã€‚
```

### ä½¿ç”¨ Claude åˆ›å»ºç›®å½•

**é€æ­¥åˆ›å»º**:
```
ä½ :åˆ›å»ºé¡¹ç›®çš„æ‰€æœ‰ç›®å½•

Claude: æˆ‘å°†åˆ›å»ºå®Œæ•´çš„ç›®å½•ç»“æ„:

# åˆ›å»ºä¸»é¡¹ç›®ç›®å½•
mkdir todo-app-pro
cd todo-app-pro

# åˆ›å»ºå‰ç«¯ç›®å½•
mkdir -p client/css
mkdir -p client/js
mkdir -p client/assets/images

# åˆ›å»ºåç«¯ç›®å½•
mkdir -p server/routes
mkdir -p server/models
mkdir -p server/middleware

# åˆ›å»ºæµ‹è¯•ç›®å½•
mkdir tests

é¡¹ç›®ç»“æ„åˆ›å»ºæˆåŠŸ!
```

## 2. ç‰ˆæœ¬æ§åˆ¶è®¾ç½®

### åˆå§‹åŒ– Git ä»“åº“

**ä½ ä¸ Claude çš„å¯¹è¯**:
```
ä½ :ä¸ºè¿™ä¸ªé¡¹ç›®è®¾ç½® Git

Claude:
æˆ‘å°†å¸®ä½ åˆå§‹åŒ– Git å¹¶åˆ›å»ºåˆé€‚çš„ .gitignore æ–‡ä»¶:

1. åˆå§‹åŒ– Git ä»“åº“:
   git init

2. åˆ›å»º .gitignore æ–‡ä»¶,åŒ…å«ä»¥ä¸‹å†…å®¹:
```

**.gitignore**:
```
# ä¾èµ–åŒ…
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# ç¯å¢ƒå˜é‡
.env
.env.local
.env.production

# æ•°æ®åº“
*.db
*.sqlite
*.sqlite3

# æ“ä½œç³»ç»Ÿæ–‡ä»¶
.DS_Store
Thumbs.db

# IDE
.vscode/
.idea/
*.swp
*.swo
*~

# æ„å»ºæ–‡ä»¶
dist/
build/
*.log

# æµ‹è¯•è¦†ç›–ç‡
coverage/
.nyc_output/
```

**é¦–æ¬¡æäº¤**:
```
ä½ :è¿›è¡Œç¬¬ä¸€æ¬¡æäº¤

Claude:
git add .
git commit -m "åˆå§‹åŒ–é¡¹ç›®ç»“æ„"

âœ… é¦–æ¬¡æäº¤åˆ›å»ºå®Œæˆ!
ğŸ’¡ ä½ çš„é¡¹ç›®ç°åœ¨å·²å¤„äºç‰ˆæœ¬æ§åˆ¶ä¹‹ä¸‹
```

### è¿æ¥åˆ°è¿œç¨‹ä»“åº“

```
ä½ :å°†é¡¹ç›®è¿æ¥åˆ° GitHub

Claude:
1. åœ¨ GitHub ä¸Šåˆ›å»ºä¸€ä¸ªæ–°ä»“åº“ (ä¸è¦åˆå§‹åŒ– README)

2. æ·»åŠ è¿œç¨‹ä»“åº“å¹¶æ¨é€:
   git remote add origin https://github.com/yourusername/todo-app-pro.git
   git branch -M main
   git push -u origin main

âœ… é¡¹ç›®å·²æ¨é€åˆ° GitHub!
```

## 3. åŒ…é…ç½®

### åˆ›å»º package.json

**ä½ ä¸ Claude çš„å¯¹è¯**:
```
ä½ :ä¸ºé¡¹ç›®è®¾ç½® package.json

Claude:
æˆ‘å°†åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ package.json æ–‡ä»¶:
```

**package.json**:
```json
{
  "name": "todo-app-pro",
  "version": "1.0.0",
  "description": "ä¸“ä¸šçš„ä»»åŠ¡ç®¡ç†åº”ç”¨",
  "main": "server/index.js",
  "scripts": {
    "start": "node server/index.js",
    "dev": "nodemon server/index.js",
    "test": "jest",
    "client": "cd client && live-server",
    "server": "nodemon server/index.js",
    "both": "concurrently \"npm run client\" \"npm run server\""
  },
  "keywords": ["todo", "task-manager", "web-app"],
  "author": "ä½ çš„åå­—",
  "license": "MIT",
  "dependencies": {
    "express": "^4.18.2",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "bcryptjs": "^2.4.3",
    "jsonwebtoken": "^9.0.2",
    "better-sqlite3": "^9.0.0"
  },
  "devDependencies": {
    "nodemon": "^3.0.1",
    "jest": "^29.7.0",
    "concurrently": "^8.2.1"
  }
}
```

### å®‰è£…ä¾èµ–åŒ…

**ä½ ä¸ Claude çš„å¯¹è¯**:
```
ä½ :å®‰è£…æ‰€æœ‰å¿…è¦çš„åŒ…

Claude:
æˆ‘å°†å¼•å¯¼ä½ å®‰è£…ä¾èµ–åŒ…:

1. åç«¯ä¾èµ–:
npm install express cors dotenv bcryptjs jsonwebtoken better-sqlite3

å„åŒ…ç”¨é€”:
- express: Node.js çš„ Web æ¡†æ¶
- cors: å¯ç”¨è·¨åŸŸè¯·æ±‚
- dotenv: ç®¡ç†ç¯å¢ƒå˜é‡
- bcryptjs: å¯†ç å“ˆå¸ŒåŠ å¯†
- jsonwebtoken: JWT èº«ä»½éªŒè¯
- better-sqlite3: SQLite æ•°æ®åº“é©±åŠ¨

2. å¼€å‘ä¾èµ–:
npm install --save-dev nodemon jest concurrently

å„åŒ…ç”¨é€”:
- nodemon: ä»£ç æ”¹å˜æ—¶è‡ªåŠ¨é‡å¯æœåŠ¡å™¨
- jest: æµ‹è¯•æ¡†æ¶
- concurrently: åŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤

âœ… æ‰€æœ‰ä¾èµ–å·²å®‰è£…!
```

## 4. ç¯å¢ƒé…ç½®

### åˆ›å»ºç¯å¢ƒå˜é‡

**ä½ ä¸ Claude çš„å¯¹è¯**:
```
ä½ :è®¾ç½®ç¯å¢ƒå˜é‡

Claude:
åœ¨æ ¹ç›®å½•åˆ›å»º .env æ–‡ä»¶:
```

**.env**:
```
# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=development

# æ•°æ®åº“
DB_PATH=./database/tasks.db

# JWT é…ç½®
JWT_SECRET=ä½ çš„å¯†é’¥-ç”Ÿäº§ç¯å¢ƒè¦ä¿®æ”¹
JWT_EXPIRE=7d

# å‰ç«¯ URL (ç”¨äº CORS)
CLIENT_URL=http://localhost:8080
```

**.env.example** (ç”¨äºå›¢é˜Ÿå…±äº«):
```
# æœåŠ¡å™¨é…ç½®
PORT=3000
NODE_ENV=development

# æ•°æ®åº“
DB_PATH=./database/tasks.db

# JWT é…ç½®
JWT_SECRET=ä¿®æ”¹æ­¤å¯†é’¥
JWT_EXPIRE=7d

# å‰ç«¯ URL (ç”¨äº CORS)
CLIENT_URL=http://localhost:8080
```

**åŠ è½½ç¯å¢ƒå˜é‡**:
```javascript
// server/index.js (å¼€å¤´éƒ¨åˆ†)
require('dotenv').config();

const PORT = process.env.PORT || 3000;
const JWT_SECRET = process.env.JWT_SECRET;
```

## 5. åˆ›å»ºåŸºç¡€æ–‡ä»¶

### è®¾ç½® HTML æ¨¡æ¿

**ä½ ä¸ Claude çš„å¯¹è¯**:
```
ä½ :ä¸ºä¸»é¡µé¢åˆ›å»ºåŸºç¡€ HTML æ¨¡æ¿

Claude:
æˆ‘å°†åˆ›å»ºä¸€ä¸ªç®€æ´çš„ HTML5 æ¨¡æ¿:
```

**client/index.html**:
```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ä¸“ä¸šçš„ä»»åŠ¡ç®¡ç†åº”ç”¨">
    <title>Todo App Pro - ä»»åŠ¡ç®¡ç†</title>

    <!-- æ ·å¼è¡¨ -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <div id="app">
        <!-- åº”ç”¨å†…å®¹å°†æ³¨å…¥è¿™é‡Œ -->
        <div class="loading">åŠ è½½ä¸­...</div>
    </div>

    <!-- è„šæœ¬ -->
    <script src="js/storage.js"></script>
    <script src="js/task.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
```

### åˆ›å»ºåŸºç¡€ CSS

**client/css/style.css** (èµ·å§‹ç‰ˆæœ¬):
```css
/* CSS é‡ç½® */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* CSS å˜é‡ */
:root {
    --primary-color: #3498db;
    --secondary-color: #2ecc71;
    --danger-color: #e74c3c;
    --warning-color: #f39c12;
    --dark-color: #2c3e50;
    --light-color: #ecf0f1;
    --text-color: #333;
    --border-color: #ddd;

    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 2rem;

    --border-radius: 4px;
    --box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* åŸºç¡€æ ·å¼ */
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    line-height: 1.6;
    color: var(--text-color);
    background-color: #f5f5f5;
}

/* å®ç”¨ç±» */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--spacing-md);
}

.btn {
    padding: var(--spacing-sm) var(--spacing-md);
    border: none;
    border-radius: var(--border-radius);
    cursor: pointer;
    font-size: 1rem;
    transition: all 0.3s ease;
}

.btn-primary {
    background-color: var(--primary-color);
    color: white;
}

.btn-primary:hover {
    background-color: #2980b9;
}
```

### åˆ›å»ºåŸºç¡€ JavaScript æ–‡ä»¶

**client/js/app.js** (èµ·å§‹ç‰ˆæœ¬):
```javascript
// ä¸»åº”ç”¨é€»è¾‘
const TodoApp = {
    init() {
        console.log('Todo App Pro å·²åˆå§‹åŒ–');
        this.loadTasks();
        this.setupEventListeners();
    },

    loadTasks() {
        // å°†åœ¨ä¸‹ä¸€ä¸ªæ¨¡å—ä¸­å®ç°
        console.log('åŠ è½½ä»»åŠ¡ä¸­...');
    },

    setupEventListeners() {
        // å°†åœ¨ä¸‹ä¸€ä¸ªæ¨¡å—ä¸­å®ç°
        console.log('è®¾ç½®äº‹ä»¶ç›‘å¬å™¨...');
    }
};

// DOM å‡†å¤‡å¥½ååˆå§‹åŒ–åº”ç”¨
document.addEventListener('DOMContentLoaded', () => {
    TodoApp.init();
});
```

**server/index.js** (èµ·å§‹ç‰ˆæœ¬):
```javascript
require('dotenv').config();
const express = require('express');
const cors = require('cors');

const app = express();
const PORT = process.env.PORT || 3000;

// ä¸­é—´ä»¶
app.use(cors());
app.use(express.json());
app.use(express.static('client'));

// åŸºç¡€è·¯ç”±
app.get('/api/health', (req, res) => {
    res.json({ status: 'OK', message: 'æœåŠ¡å™¨è¿è¡Œæ­£å¸¸' });
});

// å¯åŠ¨æœåŠ¡å™¨
app.listen(PORT, () => {
    console.log(`æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:${PORT}`);
});
```

## 6. è®¾ç½®å¼€å‘ç¯å¢ƒ

### VS Code é…ç½®

**ä½ ä¸ Claude çš„å¯¹è¯**:
```
ä½ :ä¸ºè¿™ä¸ªé¡¹ç›®é…ç½® VS Code

Claude:
åˆ›å»º .vscode/settings.json æ–‡ä»¶:
```

**.vscode/settings.json**:
```json
{
    "editor.formatOnSave": true,
    "editor.tabSize": 2,
    "files.exclude": {
        "node_modules": true,
        "*.db": true
    },
    "emmet.includeLanguages": {
        "javascript": "javascriptreact"
    },
    "liveServer.settings.port": 8080
}
```

**.vscode/extensions.json** (æ¨èæ‰©å±•):
```json
{
    "recommendations": [
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode",
        "ritwickdey.liveserver",
        "ms-vscode.vscode-node-debug2"
    ]
}
```

### æµ‹è¯•è®¾ç½®

**ä½ ä¸ Claude çš„å¯¹è¯**:
```
ä½ :å¦‚ä½•æµ‹è¯•æ‰€æœ‰è®¾ç½®æ˜¯å¦æ­£ç¡®?

Claude:
æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤éªŒè¯è®¾ç½®:

1. æµ‹è¯•æœåŠ¡å™¨:
   npm run dev

   é¢„æœŸè¾“å‡º:
   æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000

2. æµ‹è¯•å¥åº·æ£€æŸ¥ç«¯ç‚¹:
   curl http://localhost:3000/api/health

   é¢„æœŸå“åº”:
   {"status":"OK","message":"æœåŠ¡å™¨è¿è¡Œæ­£å¸¸"}

3. æµ‹è¯•å‰ç«¯:
   - æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯
   - cd client
   - npx live-server

   é¢„æœŸ: æµè§ˆå™¨æ‰“å¼€ http://localhost:8080

4. éªŒè¯ Git:
   git status

   é¢„æœŸ: å·¥ä½œç›®å½•å¹²å‡€

âœ… å¦‚æœæ‰€æœ‰æµ‹è¯•é€šè¿‡,ä½ çš„è®¾ç½®å°±å®Œæˆäº†!
```

## 7. åˆ›å»º README æ–‡æ¡£

**README.md**:
```markdown
# Todo App Pro

ä½¿ç”¨åŸç”Ÿ JavaScript å’Œ Node.js æ„å»ºçš„ä¸“ä¸šä»»åŠ¡ç®¡ç†åº”ç”¨ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ç”¨æˆ·è®¤è¯ (æ³¨å†Œ/ç™»å½•)
- åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ä»»åŠ¡
- ä»»åŠ¡åˆ†ç±»å’Œä¼˜å…ˆçº§
- æœç´¢å’Œè¿‡æ»¤åŠŸèƒ½
- å“åº”å¼è®¾è®¡
- SQLite æ•°æ®æŒä¹…åŒ–

## æŠ€æœ¯æ ˆ

**å‰ç«¯:**
- HTML5
- CSS3
- åŸç”Ÿ JavaScript

**åç«¯:**
- Node.js
- Express.js
- SQLite

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js (v14 æˆ–æ›´é«˜ç‰ˆæœ¬)
- npm æˆ– yarn

### å®‰è£…

1. å…‹éš†ä»“åº“:
```bash
git clone https://github.com/yourusername/todo-app-pro.git
cd todo-app-pro
```

2. å®‰è£…ä¾èµ–:
```bash
npm install
```

3. è®¾ç½®ç¯å¢ƒå˜é‡:
```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶é…ç½®ä½ çš„è®¾ç½®
```

4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨:
```bash
npm run dev
```

5. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:3000`

## é¡¹ç›®ç»“æ„

```
todo-app-pro/
â”œâ”€â”€ client/          # å‰ç«¯ä»£ç 
â”œâ”€â”€ server/          # åç«¯ä»£ç 
â”œâ”€â”€ tests/           # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ package.json     # ä¾èµ–é…ç½®
```

## å¼€å‘

- `npm run dev` - å¯åŠ¨å¼€å‘æœåŠ¡å™¨
- `npm test` - è¿è¡Œæµ‹è¯•
- `npm run both` - åŒæ—¶è¿è¡Œå‰åç«¯

## è®¸å¯è¯

MIT
```

## 8. éªŒè¯æ£€æŸ¥æ¸…å•

åœ¨è¿›å…¥ä¸‹ä¸€ä¸ªæ¨¡å—ä¹‹å‰,éªŒè¯:

```
âœ… é¡¹ç›®ç›®å½•ç»“æ„å·²åˆ›å»º
âœ… Git ä»“åº“å·²åˆå§‹åŒ–
âœ… .gitignore å·²é…ç½®
âœ… package.json å·²åˆ›å»º
âœ… ä¾èµ–å·²å®‰è£…
âœ… ç¯å¢ƒå˜é‡å·²è®¾ç½®
âœ… åŸºç¡€ HTML/CSS/JS æ–‡ä»¶å·²åˆ›å»º
âœ… æœåŠ¡å™¨è¿è¡Œæ— é”™è¯¯
âœ… å‰ç«¯å¯è®¿é—®
âœ… README.md å·²æ–‡æ¡£åŒ–
```

## å…³é”®è¦ç‚¹

1. **ç»„ç»‡ç»“æ„** - è‰¯å¥½çš„ç›®å½•ç»“æ„èŠ‚çœåç»­æ—¶é—´
2. **ç‰ˆæœ¬æ§åˆ¶** - ä»ä¸€å¼€å§‹å°±è®¾ç½® Git
3. **ç¯å¢ƒé…ç½®** - ä½¿ç”¨ .env å­˜å‚¨æ•æ„Ÿæ•°æ®
4. **æ–‡æ¡£** - åœ¨æ„å»ºè¿‡ç¨‹ä¸­ç¼–å†™ README
5. **æµ‹è¯•** - éªŒè¯æ¯ä¸ªè®¾ç½®æ­¥éª¤éƒ½æœ‰æ•ˆ

## å®è·µç»ƒä¹ 

**ä»»åŠ¡**: ä¸ºä¸åŒé¡¹ç›®è®¾ç½®ç±»ä¼¼ç»“æ„
1. ä¸º"åšå®¢å¹³å°"åˆ›å»ºé¡¹ç›®ç›®å½•
2. åˆå§‹åŒ– Git ä»“åº“
3. è®¾ç½® package.json å’Œé€‚å½“çš„ä¾èµ–
4. åˆ›å»ºåŸºç¡€æ–‡ä»¶ (HTML, CSS, JS)
5. åœ¨ README ä¸­è®°å½•

## ä¸‹ä¸€æ­¥

ç°åœ¨é¡¹ç›®ç»“æ„å·²å‡†å¤‡å¥½,ç»§ç»­:

ğŸ‘‰ **[æ¨¡å— 3: é™æ€é¡µé¢è®¾è®¡](./03-é™æ€é¡µé¢.md)** - æ„å»ºç”¨æˆ·ç•Œé¢

---

ğŸ“š **è¿”å›**: [ç¬¬å…­è¯¾æ¦‚è¿°](./index.md)
