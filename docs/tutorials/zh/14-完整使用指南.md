# ç¬¬åå››è¯¾ï¼šClaude Code å®Œæ•´ä½¿ç”¨æŒ‡å—ï¼ˆå·¥å…·ä¹¦ï¼‰

> ğŸ¯ **å­¦ä¹ ç›®æ ‡**ï¼šç³»ç»ŸæŒæ¡ Claude Code çš„æ‰€æœ‰åŠŸèƒ½å’Œæœ€ä½³å®è·µ,ä½œä¸ºæ—¥å¸¸å¼€å‘çš„å‚è€ƒæ‰‹å†Œ
>
> ğŸ”¥ **2025å¹´1æœˆæ›´æ–°**ï¼šåŒ…å«æœ€æ–°çš„ CLI å‘½ä»¤ã€é…ç½®æ–¹æ³•ã€MCP é›†æˆè¯¦è§£,ä»¥åŠç”Ÿäº§ç¯å¢ƒå®è·µç»éªŒã€‚è¿™æ˜¯ä½ çš„ Claude Code ç™¾ç§‘å…¨ä¹¦ï¼

## ğŸ“š æœ¬æŒ‡å—ä½¿ç”¨è¯´æ˜

### ğŸ¯ é€‚åˆäººç¾¤

- **æ–°æ‰‹å¼€å‘è€…**ï¼šä»é›¶å¼€å§‹ç³»ç»Ÿå­¦ä¹  Claude Code
- **è¿›é˜¶å¼€å‘è€…**ï¼šå¿«é€ŸæŸ¥æ‰¾ç‰¹å®šåŠŸèƒ½å’Œæœ€ä½³å®è·µ
- **å›¢é˜Ÿè´Ÿè´£äºº**ï¼šä¸ºå›¢é˜Ÿå»ºç«‹æ ‡å‡†åŒ–å¼€å‘æµç¨‹
- **ä¸“ä¸šå¼€å‘è€…**ï¼šæ·±å…¥æŒæ¡é«˜çº§ç‰¹æ€§å’Œä¼˜åŒ–æŠ€å·§

### ğŸ“– å¦‚ä½•ä½¿ç”¨æœ¬æŒ‡å—

1. **ä½œä¸ºå­¦ä¹ æ•™æ**ï¼šæŒ‰ç« èŠ‚é¡ºåºå®Œæ•´é˜…è¯»
2. **ä½œä¸ºå‚è€ƒæ‰‹å†Œ**ï¼šéœ€è¦æ—¶å¿«é€ŸæŸ¥æ‰¾ç‰¹å®šä¸»é¢˜
3. **ä½œä¸ºå›¢é˜Ÿè§„èŒƒ**ï¼šå»ºç«‹å›¢é˜Ÿå¼€å‘æ ‡å‡†
4. **ä½œä¸ºæ•…éšœæ’æŸ¥**ï¼šé‡åˆ°é—®é¢˜æ—¶æŸ¥æ‰¾è§£å†³æ–¹æ¡ˆ

### ğŸ”– å¿«é€Ÿå¯¼èˆª

- [å®‰è£…ä¸é…ç½®](#ä¸€å®‰è£…ä¸é…ç½®) - åŸºç¡€ç¯å¢ƒæ­å»º
- [CLI å‘½ä»¤è¯¦è§£](#äºŒcli-å‘½ä»¤è¯¦è§£) - å‘½ä»¤è¡Œå·¥å…·ä½¿ç”¨
- [é…ç½®æ–‡ä»¶ç®¡ç†](#ä¸‰é…ç½®æ–‡ä»¶ç®¡ç†) - é¡¹ç›®é…ç½®ä¼˜åŒ–
- [MCP æœåŠ¡å™¨é›†æˆ](#å››mcp-æœåŠ¡å™¨é›†æˆ) - æ‰©å±•åŠŸèƒ½é›†æˆ
- [æç¤ºè¯å·¥ç¨‹](#äº”æç¤ºè¯å·¥ç¨‹) - é«˜æ•ˆäº¤äº’æŠ€å·§
- [æ–‡ä»¶æ“ä½œ](#å…­æ–‡ä»¶æ“ä½œ) - ä»£ç ç®¡ç†æŠ€å·§
- [Git å·¥ä½œæµ](#ä¸ƒgit-å·¥ä½œæµ) - ç‰ˆæœ¬æ§åˆ¶é›†æˆ
- [é¡¹ç›®ç®¡ç†](#å…«é¡¹ç›®ç®¡ç†) - å¤šé¡¹ç›®åä½œ
- [æ€§èƒ½ä¼˜åŒ–](#ä¹æ€§èƒ½ä¼˜åŒ–) - æå‡å“åº”é€Ÿåº¦
- [å®‰å…¨æœ€ä½³å®è·µ](#åå®‰å…¨æœ€ä½³å®è·µ) - å®‰å…¨å¼€å‘æŒ‡å—
- [æ•…éšœæ’æŸ¥](#åä¸€æ•…éšœæ’æŸ¥) - å¸¸è§é—®é¢˜è§£å†³
- [ç”Ÿäº§ç¯å¢ƒå®è·µ](#åäºŒç”Ÿäº§ç¯å¢ƒå®è·µ) - ä¼ä¸šçº§åº”ç”¨

---

## ä¸€ã€å®‰è£…ä¸é…ç½®

### 1.1 ç³»ç»Ÿè¦æ±‚

**æœ€ä½è¦æ±‚ï¼š**
- Node.js 18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- npm 9.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- 5GB å¯ç”¨ç£ç›˜ç©ºé—´
- ç¨³å®šçš„ç½‘ç»œè¿æ¥

**æ¨èé…ç½®ï¼š**
- Node.js 20.x LTSï¼ˆé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼‰
- npm 10.x
- 10GB+ å¯ç”¨ç£ç›˜ç©ºé—´
- é«˜é€Ÿç½‘ç»œè¿æ¥ï¼ˆAPI è°ƒç”¨éœ€è¦ï¼‰

**æ”¯æŒçš„æ“ä½œç³»ç»Ÿï¼š**
- macOS 12.0 (Monterey) åŠä»¥ä¸Š
- Windows 10/11ï¼ˆ64ä½ï¼‰
- Linuxï¼ˆUbuntu 20.04+, Debian 11+, Fedora 36+ï¼‰

### 1.2 å®‰è£…æ–¹å¼

#### æ–¹æ³•ä¸€ï¼šNPM å…¨å±€å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# å®‰è£…æœ€æ–°ç‰ˆæœ¬
npm install -g @anthropic-ai/claude-code

# éªŒè¯å®‰è£…
claude --version

# æŸ¥çœ‹å¸®åŠ©
claude --help
```

#### æ–¹æ³•äºŒï¼šNPX ä¸´æ—¶è¿è¡Œ

```bash
# ä¸å®‰è£…,ç›´æ¥è¿è¡Œæœ€æ–°ç‰ˆæœ¬
npx @anthropic-ai/claude-code

# æŒ‡å®šç‰ˆæœ¬
npx @anthropic-ai/claude-code@1.2.3
```

#### æ–¹æ³•ä¸‰ï¼šä»æºä»£ç å®‰è£…ï¼ˆå¼€å‘è€…ï¼‰

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/anthropics/claude-code.git
cd claude-code

# å®‰è£…ä¾èµ–
npm install

# æ„å»º
npm run build

# é“¾æ¥åˆ°å…¨å±€
npm link
```

### 1.3 API å¯†é’¥é…ç½®

#### è·å– API å¯†é’¥

1. è®¿é—® [Anthropic Console](https://console.anthropic.com/)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ API Keys é¡µé¢
4. åˆ›å»ºæ–°çš„ API Key
5. **ç«‹å³ä¿å­˜å¯†é’¥**ï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼‰

#### é…ç½®æ–¹å¼

**æ–¹æ³•ä¸€ï¼šäº¤äº’å¼é…ç½®ï¼ˆæ¨èæ–°æ‰‹ï¼‰**

```bash
# å¯åŠ¨é…ç½®å‘å¯¼
claude auth login

# æŒ‰æç¤ºè¾“å…¥ API å¯†é’¥
# å¯†é’¥ä¼šå®‰å…¨ä¿å­˜åˆ° ~/.claude/config.json
```

**æ–¹æ³•äºŒï¼šç¯å¢ƒå˜é‡ï¼ˆæ¨èå›¢é˜Ÿï¼‰**

```bash
# macOS/Linux - æ·»åŠ åˆ° ~/.bashrc æˆ– ~/.zshrc
export ANTHROPIC_API_KEY="sk-ant-api03-..."

# Windows PowerShell - æ·»åŠ åˆ° $PROFILE
$env:ANTHROPIC_API_KEY="sk-ant-api03-..."

# Windows CMD - ä¸´æ—¶è®¾ç½®
set ANTHROPIC_API_KEY=sk-ant-api03-...
```

**æ–¹æ³•ä¸‰ï¼šé…ç½®æ–‡ä»¶ï¼ˆæ¨èé¡¹ç›®ï¼‰**

åˆ›å»º `.env` æ–‡ä»¶ï¼ˆä¸è¦æäº¤åˆ° Gitï¼‰ï¼š

```bash
ANTHROPIC_API_KEY=sk-ant-api03-...
```

æ·»åŠ åˆ° `.gitignore`ï¼š

```
.env
.env.local
```

### 1.4 é¦–æ¬¡é…ç½®

```bash
# åˆå§‹åŒ–é…ç½®
claude init

# è®¾ç½®é»˜è®¤æ¨¡å‹
claude config set model claude-sonnet-4

# è®¾ç½®é»˜è®¤å·¥ä½œç›®å½•
claude config set workdir ~/Projects

# æŸ¥çœ‹æ‰€æœ‰é…ç½®
claude config list
```

### 1.5 éªŒè¯å®‰è£…

```bash
# æ£€æŸ¥ç‰ˆæœ¬
claude --version

# æ£€æŸ¥ API è¿æ¥
claude auth status

# è¿è¡Œæµ‹è¯•å¯¹è¯
claude chat "Hello, Claude!"

# æŸ¥çœ‹å¯ç”¨æ¨¡å‹
claude models list
```

---

## äºŒã€CLI å‘½ä»¤è¯¦è§£

### 2.1 åŸºç¡€å‘½ä»¤

#### claude chat

**ç”¨é€”**ï¼šå¯åŠ¨äº¤äº’å¼å¯¹è¯ä¼šè¯

```bash
# åŸºæœ¬ç”¨æ³•
claude chat

# ä»ç‰¹å®šç›®å½•å¯åŠ¨
claude chat --dir /path/to/project

# ä½¿ç”¨ç‰¹å®šæ¨¡å‹
claude chat --model claude-opus-4

# è®¾ç½®ä¸Šä¸‹æ–‡çª—å£å¤§å°
claude chat --context 100000

# åŠ è½½é¡¹ç›®é…ç½®
claude chat --config .claude.json
```

**å¸¸ç”¨é€‰é¡¹ï¼š**

| é€‰é¡¹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `--dir, -d` | å·¥ä½œç›®å½• | `-d ~/project` |
| `--model, -m` | ä½¿ç”¨çš„æ¨¡å‹ | `-m claude-opus-4` |
| `--context` | ä¸Šä¸‹æ–‡çª—å£ | `--context 200000` |
| `--config, -c` | é…ç½®æ–‡ä»¶ | `-c .claude.json` |
| `--verbose, -v` | è¯¦ç»†è¾“å‡º | `-v` |
| `--debug` | è°ƒè¯•æ¨¡å¼ | `--debug` |

#### claude auth

**ç”¨é€”**ï¼šç®¡ç† API å¯†é’¥å’Œè®¤è¯

```bash
# ç™»å½•ï¼ˆäº¤äº’å¼ï¼‰
claude auth login

# ç™»å‡º
claude auth logout

# æ£€æŸ¥è®¤è¯çŠ¶æ€
claude auth status

# æ›´æ–° API å¯†é’¥
claude auth set-key sk-ant-api03-...

# æŸ¥çœ‹å½“å‰å¯†é’¥ï¼ˆéƒ¨åˆ†é®è”½ï¼‰
claude auth show-key
```

#### claude config

**ç”¨é€”**ï¼šç®¡ç†é…ç½®è®¾ç½®

```bash
# æŸ¥çœ‹æ‰€æœ‰é…ç½®
claude config list

# è®¾ç½®é…ç½®é¡¹
claude config set <key> <value>

# è·å–é…ç½®é¡¹
claude config get <key>

# åˆ é™¤é…ç½®é¡¹
claude config delete <key>

# é‡ç½®æ‰€æœ‰é…ç½®
claude config reset
```

**å¸¸ç”¨é…ç½®é¡¹ï¼š**

```bash
# é»˜è®¤æ¨¡å‹
claude config set model claude-sonnet-4

# å·¥ä½œç›®å½•
claude config set workdir ~/Projects

# ç¼–è¾‘å™¨
claude config set editor vscode

# è‡ªåŠ¨ä¿å­˜å†å²
claude config set saveHistory true

# æœ€å¤§ token æ•°
claude config set maxTokens 4096
```

### 2.2 MCP å‘½ä»¤

#### claude mcp add

**ç”¨é€”**ï¼šæ·»åŠ  MCP æœåŠ¡å™¨

```bash
# åŸºæœ¬è¯­æ³•
claude mcp add <name> [options] -- <command> [args...]

# ç”¨æˆ·çº§æœåŠ¡å™¨ï¼ˆå…¨å±€å¯ç”¨ï¼‰
claude mcp add filesystem -s user -- npx -y @modelcontextprotocol/server-filesystem ~/Documents

# é¡¹ç›®çº§æœåŠ¡å™¨ï¼ˆå›¢é˜Ÿå…±äº«ï¼‰
claude mcp add project-tools -s project -- npx -y @your-team/tools

# å¸¦ç¯å¢ƒå˜é‡
claude mcp add github -s user -e GITHUB_TOKEN=ghp_xxx -- npx -y @modelcontextprotocol/server-github

# æœ¬åœ°æœåŠ¡å™¨ï¼ˆå½“å‰ç›®å½•ï¼‰
claude mcp add local-tool -- node ./mcp-server.js
```

**é€‰é¡¹è¯´æ˜ï¼š**

| é€‰é¡¹ | è¯´æ˜ | å€¼ |
|------|------|-----|
| `-s, --scope` | ä½œç”¨åŸŸ | `local`, `user`, `project` |
| `-e, --env` | ç¯å¢ƒå˜é‡ | `KEY=value` |
| `--` | å‘½ä»¤åˆ†éš”ç¬¦ | å¿…éœ€ |

#### claude mcp list

```bash
# æŸ¥çœ‹æ‰€æœ‰ MCP æœåŠ¡å™¨
claude mcp list

# æŸ¥çœ‹ç‰¹å®šä½œç”¨åŸŸ
claude mcp list --scope user
claude mcp list --scope project

# è¯¦ç»†ä¿¡æ¯
claude mcp list --verbose
```

#### claude mcp remove

```bash
# åˆ é™¤æœåŠ¡å™¨
claude mcp remove <name>

# å¼ºåˆ¶åˆ é™¤ï¼ˆä¸æç¤ºç¡®è®¤ï¼‰
claude mcp remove <name> --force

# åˆ é™¤ç‰¹å®šä½œç”¨åŸŸçš„æœåŠ¡å™¨
claude mcp remove <name> --scope user
```

#### claude mcp test

```bash
# æµ‹è¯• MCP æœåŠ¡å™¨è¿æ¥
claude mcp test <name>

# æµ‹è¯•æ‰€æœ‰æœåŠ¡å™¨
claude mcp test --all

# è¯¦ç»†æµ‹è¯•æŠ¥å‘Š
claude mcp test <name> --verbose
```

### 2.3 é¡¹ç›®å‘½ä»¤

#### claude project init

```bash
# åœ¨å½“å‰ç›®å½•åˆå§‹åŒ–é¡¹ç›®
claude project init

# æŒ‡å®šé¡¹ç›®ç±»å‹
claude project init --type web-app
claude project init --type cli-tool
claude project init --type library

# ä½¿ç”¨æ¨¡æ¿
claude project init --template react-typescript
claude project init --template node-express
```

#### claude project info

```bash
# æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯
claude project info

# JSON æ ¼å¼è¾“å‡º
claude project info --json

# åŒ…å«ç»Ÿè®¡ä¿¡æ¯
claude project info --stats
```

### 2.4 å·¥å…·å‘½ä»¤

#### claude analyze

```bash
# åˆ†æä»£ç åº“
claude analyze

# åˆ†æç‰¹å®šæ–‡ä»¶
claude analyze src/index.ts

# ç”Ÿæˆåˆ†ææŠ¥å‘Š
claude analyze --report analysis-report.md

# æ£€æŸ¥ç‰¹å®šé—®é¢˜
claude analyze --check security
claude analyze --check performance
claude analyze --check best-practices
```

#### claude refactor

```bash
# äº¤äº’å¼é‡æ„
claude refactor

# é‡æ„ç‰¹å®šæ–‡ä»¶
claude refactor src/legacy-code.js

# åº”ç”¨ç‰¹å®šé‡æ„æ¨¡å¼
claude refactor --pattern extract-method
claude refactor --pattern rename-variable
```

#### claude test

```bash
# ç”Ÿæˆæµ‹è¯•
claude test generate

# ä¸ºç‰¹å®šæ–‡ä»¶ç”Ÿæˆæµ‹è¯•
claude test generate src/utils.ts

# è¿è¡Œæµ‹è¯•
claude test run

# åˆ†ææµ‹è¯•è¦†ç›–ç‡
claude test coverage
```

### 2.5 è°ƒè¯•å‘½ä»¤

#### claude debug

```bash
# å¯ç”¨è°ƒè¯•æ¨¡å¼
claude --debug chat

# æŸ¥çœ‹æ—¥å¿—
claude debug logs

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
claude debug logs --follow

# æ¸…é™¤æ—¥å¿—
claude debug logs --clear
```

#### claude doctor

```bash
# è¯Šæ–­å®‰è£…é—®é¢˜
claude doctor

# ä¿®å¤å¸¸è§é—®é¢˜
claude doctor --fix

# è¯¦ç»†è¯Šæ–­æŠ¥å‘Š
claude doctor --verbose
```

---

## ä¸‰ã€é…ç½®æ–‡ä»¶ç®¡ç†

### 3.1 å…¨å±€é…ç½®æ–‡ä»¶

**ä½ç½®ï¼š** `~/.claude/config.json`

**ç”¨é€”ï¼š** ç”¨æˆ·çº§å…¨å±€è®¾ç½®

```json
{
  "apiKey": "sk-ant-api03-...",
  "model": "claude-sonnet-4",
  "maxTokens": 4096,
  "temperature": 1.0,
  "editor": "vscode",
  "saveHistory": true,
  "historyDir": "~/.claude/history",
  "theme": "dark"
}
```

### 3.2 é¡¹ç›®é…ç½®æ–‡ä»¶

**ä½ç½®ï¼š** é¡¹ç›®æ ¹ç›®å½• `.claude.json`

**ç”¨é€”ï¼š** é¡¹ç›®ç‰¹å®šé…ç½®ï¼ˆå›¢é˜Ÿå…±äº«ï¼‰

```json
{
  "name": "my-project",
  "description": "é¡¹ç›®æè¿°",
  "version": "1.0.0",
  "model": "claude-sonnet-4",
  "context": {
    "include": [
      "src/**/*.ts",
      "docs/**/*.md",
      "package.json"
    ],
    "exclude": [
      "node_modules/**",
      "dist/**",
      "*.test.ts"
    ]
  },
  "rules": [
    "ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼",
    "éµå¾ª ESLint è§„åˆ™",
    "æ‰€æœ‰å‡½æ•°å¿…é¡»æœ‰æ–‡æ¡£æ³¨é‡Š"
  ],
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "."]
    }
  }
}
```

### 3.3 CLAUDE.md æ–‡ä»¶

**ä½ç½®ï¼š** é¡¹ç›®æ ¹ç›®å½• `CLAUDE.md`

**ç”¨é€”ï¼š** é¡¹ç›®ä¸Šä¸‹æ–‡å’Œå¼€å‘è§„èŒƒ

```markdown
# é¡¹ç›®åç§°

## é¡¹ç›®æ¦‚è¿°
ç®€è¦æè¿°é¡¹ç›®çš„ç›®çš„å’ŒåŠŸèƒ½

## æŠ€æœ¯æ ˆ
- Frontend: React 18 + TypeScript
- Backend: Node.js + Express
- Database: PostgreSQL
- Deployment: Docker + Kubernetes

## å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼
- ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç 
- éµå¾ª ESLint è§„åˆ™
- ä½¿ç”¨è¯­ä¹‰åŒ–å‘½å

### æäº¤è§„èŒƒ
- ä½¿ç”¨ Conventional Commits
- æ ¼å¼ï¼š`<type>(<scope>): <subject>`
- ç±»å‹ï¼šfeat, fix, docs, style, refactor, test, chore

### æµ‹è¯•è¦æ±‚
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- æ‰€æœ‰ API å¿…é¡»æœ‰é›†æˆæµ‹è¯•
- å…³é”®è·¯å¾„å¿…é¡»æœ‰ E2E æµ‹è¯•

## é¡¹ç›®ç»“æ„
```
src/
â”œâ”€â”€ components/     # React ç»„ä»¶
â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°
â”œâ”€â”€ types/          # TypeScript ç±»å‹
â””â”€â”€ tests/          # æµ‹è¯•æ–‡ä»¶
```

## ç¯å¢ƒå˜é‡
- `DATABASE_URL`: æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
- `API_KEY`: ç¬¬ä¸‰æ–¹ API å¯†é’¥
- `PORT`: æœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤ 3000ï¼‰

## å¸¸ç”¨å‘½ä»¤
- `npm run dev`: å¯åŠ¨å¼€å‘æœåŠ¡å™¨
- `npm run build`: æ„å»ºç”Ÿäº§ç‰ˆæœ¬
- `npm test`: è¿è¡Œæµ‹è¯•
- `npm run lint`: ä»£ç æ£€æŸ¥

## æ³¨æ„äº‹é¡¹
- ä¸è¦æäº¤ `.env` æ–‡ä»¶
- æ‰€æœ‰ API å¯†é’¥å¿…é¡»é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®
- æäº¤å‰å¿…é¡»è¿è¡Œæµ‹è¯•å’Œ lint
```

### 3.4 ç¯å¢ƒç‰¹å®šé…ç½®

#### å¼€å‘ç¯å¢ƒ `.claude.dev.json`

```json
{
  "model": "claude-sonnet-4",
  "context": {
    "include": ["src/**", "tests/**"]
  },
  "debug": true,
  "verbose": true
}
```

#### ç”Ÿäº§ç¯å¢ƒ `.claude.prod.json`

```json
{
  "model": "claude-opus-4",
  "maxTokens": 8192,
  "context": {
    "include": ["src/**"],
    "exclude": ["**/*.test.*", "**/__tests__/**"]
  },
  "debug": false
}
```

#### åˆ‡æ¢é…ç½®

```bash
# ä½¿ç”¨å¼€å‘é…ç½®
claude chat --config .claude.dev.json

# ä½¿ç”¨ç”Ÿäº§é…ç½®
claude chat --config .claude.prod.json

# ç¯å¢ƒå˜é‡æ§åˆ¶
export CLAUDE_CONFIG=.claude.dev.json
claude chat
```

---

## å››ã€MCP æœåŠ¡å™¨é›†æˆ

### 4.1 MCP æ¶æ„æ¦‚è¿°

**MCPï¼ˆModel Context Protocolï¼‰** æ˜¯ Anthropic æ¨å‡ºçš„å¼€æºåè®®,å…è®¸ AI åŠ©æ‰‹è¿æ¥å¤–éƒ¨å·¥å…·å’Œæ•°æ®æºã€‚

**æ¶æ„å›¾ï¼š**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Claude Code CLI     â”‚
â”‚    (MCP Client)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚ MCP Protocol
            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                â”‚
â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
â”‚ Server â”‚      â”‚ Server  â”‚
â”‚   A    â”‚      â”‚    B    â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚                â”‚
â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
â”‚  Tool  â”‚      â”‚   API   â”‚
â”‚ Files  â”‚      â”‚ Databaseâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 é…ç½®æ–‡ä»¶è¯¦è§£

**ä½ç½®ï¼š**
- ç”¨æˆ·çº§ï¼š`~/.claude.json`
- é¡¹ç›®çº§ï¼š`.mcp.json`

**å®Œæ•´é…ç½®ç¤ºä¾‹ï¼š**

```json
{
  "mcpServers": {
    "filesystem": {
      "type": "stdio",
      "command": "npx",
      "args": [
        "-y",
        "@modelcontextprotocol/server-filesystem",
        "~/Documents",
        "~/Projects"
      ],
      "env": {
        "NODE_ENV": "production"
      }
    },
    "github": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
      }
    },
    "postgres": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "DATABASE_URL": "${DATABASE_URL}"
      }
    }
  }
}
```

### 4.3 æ ¸å¿ƒ MCP æœåŠ¡å™¨

#### 1. æ–‡ä»¶ç³»ç»ŸæœåŠ¡å™¨

**åŠŸèƒ½**ï¼šè¯»å†™æ–‡ä»¶ã€ç›®å½•æ“ä½œ

```bash
claude mcp add filesystem -s user -- npx -y @modelcontextprotocol/server-filesystem ~/Documents ~/Projects
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```
ä½ ï¼šè¯»å– ~/Projects/app/src/index.ts å¹¶æ·»åŠ ç±»å‹æ³¨è§£

Claudeï¼š[ä½¿ç”¨ filesystem MCP]
å·²è¯»å–æ–‡ä»¶ï¼Œæ­£åœ¨æ·»åŠ ç±»å‹æ³¨è§£...
```

#### 2. GitHub æœåŠ¡å™¨

**åŠŸèƒ½**ï¼šç®¡ç† issuesã€PRsã€ä»“åº“

```bash
claude mcp add github -s user -e GITHUB_TOKEN=ghp_xxx -- npx -y @modelcontextprotocol/server-github
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```
ä½ ï¼šåˆ›å»ºä¸€ä¸ª PR åˆå¹¶ feature åˆ†æ”¯åˆ° main

Claudeï¼š[ä½¿ç”¨ github MCP]
å·²åˆ›å»º PR #123: "Add new feature"
å®¡æŸ¥è€…ï¼š@reviewer
æ ‡ç­¾ï¼šfeature, ready-for-review
```

#### 3. æ•°æ®åº“æœåŠ¡å™¨

**åŠŸèƒ½**ï¼šæŸ¥è¯¢ã€åˆ†ææ•°æ®åº“

```bash
claude mcp add postgres -s user -e DATABASE_URL=postgresql://... -- npx -y @modelcontextprotocol/server-postgres
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```
ä½ ï¼šæŸ¥è¯¢æœ€è¿‘ 7 å¤©çš„ç”¨æˆ·æ³¨å†Œè¶‹åŠ¿

Claudeï¼š[ä½¿ç”¨ postgres MCP]
SELECT DATE(created_at), COUNT(*)
FROM users
WHERE created_at >= NOW() - INTERVAL '7 days'
GROUP BY DATE(created_at);

[æ˜¾ç¤ºå›¾è¡¨å’Œåˆ†æ]
```

#### 4. Web æœç´¢æœåŠ¡å™¨

**åŠŸèƒ½**ï¼šæœç´¢æœ€æ–°ä¿¡æ¯

```bash
claude mcp add search -s user -e BRAVE_API_KEY=xxx -- npx -y @modelcontextprotocol/server-brave-search
```

#### 5. Puppeteer æœåŠ¡å™¨

**åŠŸèƒ½**ï¼šæµè§ˆå™¨è‡ªåŠ¨åŒ–ã€æˆªå›¾

```bash
claude mcp add puppeteer -s user -- npx -y @modelcontextprotocol/server-puppeteer
```

### 4.4 è‡ªå®šä¹‰ MCP æœåŠ¡å™¨

**åˆ›å»ºè‡ªå®šä¹‰æœåŠ¡å™¨ï¼š**

```javascript
// my-mcp-server.js
import { Server } from '@modelcontextprotocol/sdk';

const server = new Server({
  name: 'my-custom-server',
  version: '1.0.0',
});

// å®šä¹‰å·¥å…·
server.setRequestHandler('tools/list', async () => {
  return {
    tools: [{
      name: 'process_text',
      description: 'å¤„ç†æ–‡æœ¬ï¼šå¤§å†™ã€å°å†™ã€åè½¬',
      inputSchema: {
        type: 'object',
        properties: {
          text: { type: 'string' },
          operation: {
            type: 'string',
            enum: ['uppercase', 'lowercase', 'reverse']
          }
        },
        required: ['text', 'operation']
      }
    }]
  };
});

// å®ç°å·¥å…·é€»è¾‘
server.setRequestHandler('tools/call', async (request) => {
  const { name, arguments: args } = request.params;

  if (name === 'process_text') {
    const { text, operation } = args;
    let result;

    switch (operation) {
      case 'uppercase':
        result = text.toUpperCase();
        break;
      case 'lowercase':
        result = text.toLowerCase();
        break;
      case 'reverse':
        result = text.split('').reverse().join('');
        break;
    }

    return {
      content: [{ type: 'text', text: result }]
    };
  }
});

server.start();
```

**æ·»åŠ è‡ªå®šä¹‰æœåŠ¡å™¨ï¼š**

```bash
# å®‰è£…ä¾èµ–
npm install @modelcontextprotocol/sdk

# æ·»åŠ æœåŠ¡å™¨
claude mcp add my-server -- node /path/to/my-mcp-server.js
```

---

## äº”ã€æç¤ºè¯å·¥ç¨‹

### 5.1 æç¤ºè¯åŸºæœ¬åŸåˆ™

#### 1. å…·ä½“æ˜ç¡®

```
âŒ åä¾‹å­ï¼š
"å¸®æˆ‘æ”¹è¿›è¿™ä¸ªä»£ç "

âœ… å¥½ä¾‹å­ï¼š
"é‡æ„ src/utils/auth.ts ä¸­çš„ login å‡½æ•°ï¼Œè¦æ±‚ï¼š
1. æ·»åŠ è¾“å…¥éªŒè¯
2. æ”¹è¿›é”™è¯¯å¤„ç†
3. æ·»åŠ  JSDoc æ³¨é‡Š
4. ä½¿ç”¨ async/await æ›¿ä»£ Promise"
```

#### 2. æä¾›ä¸Šä¸‹æ–‡

```
âŒ åä¾‹å­ï¼š
"æ·»åŠ ä¸€ä¸ªæŒ‰é’®"

âœ… å¥½ä¾‹å­ï¼š
"åœ¨ LoginPage ç»„ä»¶ï¼ˆsrc/pages/Login.tsxï¼‰ä¸­æ·»åŠ ä¸€ä¸ª'å¿˜è®°å¯†ç 'æŒ‰é’®ï¼š
- ä½ç½®ï¼šç™»å½•æŒ‰é’®ä¸‹æ–¹
- æ ·å¼ï¼šéµå¾ªç°æœ‰çš„ Tailwind CSS è®¾è®¡ç³»ç»Ÿ
- ç‚¹å‡»åè·³è½¬åˆ° /forgot-password è·¯ç”±
- æ·»åŠ å¯¹åº”çš„å•å…ƒæµ‹è¯•"
```

#### 3. åˆ†æ­¥éª¤è¯´æ˜

```
âŒ åä¾‹å­ï¼š
"åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ"

âœ… å¥½ä¾‹å­ï¼š
"åˆ›å»ºç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤ï¼š

æ­¥éª¤ 1ï¼šæ•°æ®æ¨¡å‹
- è®¾è®¡ User å®ä½“ï¼ˆid, email, name, role, created_atï¼‰
- åˆ›å»º TypeScript æ¥å£

æ­¥éª¤ 2ï¼šAPI è·¯ç”±
- POST /api/users - åˆ›å»ºç”¨æˆ·
- GET /api/users - åˆ—å‡ºç”¨æˆ·
- GET /api/users/:id - è·å–ç”¨æˆ·è¯¦æƒ…
- PUT /api/users/:id - æ›´æ–°ç”¨æˆ·
- DELETE /api/users/:id - åˆ é™¤ç”¨æˆ·

æ­¥éª¤ 3ï¼šå‰ç«¯ç»„ä»¶
- UserList - ç”¨æˆ·åˆ—è¡¨
- UserForm - ç”¨æˆ·è¡¨å•
- UserDetail - ç”¨æˆ·è¯¦æƒ…

æ­¥éª¤ 4ï¼šæµ‹è¯•
- API é›†æˆæµ‹è¯•
- ç»„ä»¶å•å…ƒæµ‹è¯•"
```

### 5.2 é«˜çº§æç¤ºè¯æŠ€å·§

#### 1. è§’è‰²è®¾å®š

```
ä½ æ˜¯ä¸€ä½èµ„æ·±çš„ TypeScript åç«¯å·¥ç¨‹å¸ˆï¼Œä¸“æ³¨äºï¼š
- ç±»å‹å®‰å…¨
- æ€§èƒ½ä¼˜åŒ–
- å®‰å…¨æœ€ä½³å®è·µ
- RESTful API è®¾è®¡

è¯·å¸®æˆ‘è®¾è®¡ä¸€ä¸ªé«˜æ€§èƒ½çš„ç”¨æˆ·è®¤è¯ API...
```

#### 2. æ€ç»´é“¾ï¼ˆChain of Thoughtï¼‰

```
åœ¨å®ç°è¿™ä¸ªåŠŸèƒ½å‰ï¼Œè¯·ï¼š

1. åˆ†æéœ€æ±‚å’Œè¾¹ç•Œæ¡ä»¶
2. è®¾è®¡æ•°æ®ç»“æ„å’Œç®—æ³•
3. è€ƒè™‘æ€§èƒ½å’Œå®‰å…¨é—®é¢˜
4. æå‡ºå®ç°æ–¹æ¡ˆ
5. ç¼–å†™ä»£ç 

ç„¶åé€æ­¥æ‰§è¡Œã€‚
```

#### 3. çº¦æŸæ¡ä»¶

```
å®ç°è´­ç‰©è½¦åŠŸèƒ½ï¼Œè¦æ±‚ï¼š

å¿…é¡»æ»¡è¶³ï¼š
- çº¿ç¨‹å®‰å…¨ï¼ˆå¤šç”¨æˆ·å¹¶å‘ï¼‰
- æ•°æ®ä¸€è‡´æ€§
- æ€§èƒ½ï¼ˆ< 100ms å“åº”ï¼‰

ä¸èƒ½ä½¿ç”¨ï¼š
- å…¨å±€å˜é‡
- åŒæ­¥ I/O
- åºŸå¼ƒçš„ API

æ¨èä½¿ç”¨ï¼š
- Redis ç¼“å­˜
- æ•°æ®åº“äº‹åŠ¡
- å¼‚æ­¥æ“ä½œ
```

#### 4. ç¤ºä¾‹å¼•ç”¨

```
å‚è€ƒ src/services/OrderService.ts çš„å®ç°é£æ ¼ï¼š
- ä½¿ç”¨ä¾èµ–æ³¨å…¥
- é”™è¯¯å¤„ç†æ¨¡å¼
- æ—¥å¿—è®°å½•æ–¹å¼

åˆ›å»ºä¸€ä¸ªç±»ä¼¼çš„ PaymentService...
```

### 5.3 æç¤ºè¯æ¨¡æ¿åº“

#### åŠŸèƒ½å¼€å‘æ¨¡æ¿

```
å®ç° [åŠŸèƒ½åç§°]

éœ€æ±‚ï¼š
[è¯¦ç»†éœ€æ±‚æè¿°]

æŠ€æœ¯æ ˆï¼š
- [æŠ€æœ¯1]
- [æŠ€æœ¯2]

æ–‡ä»¶ä½ç½®ï¼š
[æ–‡ä»¶è·¯å¾„]

è¦æ±‚ï¼š
1. [è¦æ±‚1]
2. [è¦æ±‚2]

éªŒæ”¶æ ‡å‡†ï¼š
- [ ] [æ ‡å‡†1]
- [ ] [æ ‡å‡†2]

å‚è€ƒå®ç°ï¼š
[ç›¸å…³ä»£ç æ–‡ä»¶]
```

#### ä»£ç å®¡æŸ¥æ¨¡æ¿

```
è¯·å®¡æŸ¥ä»¥ä¸‹ä»£ç ï¼š

æ–‡ä»¶ï¼š[æ–‡ä»¶è·¯å¾„]

å…³æ³¨ç‚¹ï¼š
1. ä»£ç è´¨é‡
2. æ€§èƒ½é—®é¢˜
3. å®‰å…¨æ¼æ´
4. æœ€ä½³å®è·µ
5. æµ‹è¯•è¦†ç›–

æä¾›ï¼š
- é—®é¢˜åˆ—è¡¨
- æ”¹è¿›å»ºè®®
- é‡æ„ä»£ç 
```

#### Bug ä¿®å¤æ¨¡æ¿

```
ä¿®å¤ Bug

é—®é¢˜æè¿°ï¼š
[è¯¦ç»†æè¿°é—®é¢˜]

å¤ç°æ­¥éª¤ï¼š
1. [æ­¥éª¤1]
2. [æ­¥éª¤2]

é¢„æœŸè¡Œä¸ºï¼š
[åº”è¯¥å¦‚ä½•å·¥ä½œ]

å®é™…è¡Œä¸ºï¼š
[å®é™…å‘ç”Ÿäº†ä»€ä¹ˆ]

ç›¸å…³æ–‡ä»¶ï¼š
[å¯èƒ½ç›¸å…³çš„æ–‡ä»¶]

é”™è¯¯æ—¥å¿—ï¼š
```
[ç²˜è´´é”™è¯¯ä¿¡æ¯]
```

è¯·ï¼š
1. åˆ†æé—®é¢˜æ ¹å› 
2. æä¾›ä¿®å¤æ–¹æ¡ˆ
3. å®ç°ä¿®å¤
4. æ·»åŠ æµ‹è¯•é˜²æ­¢å›å½’
```

#### æ€§èƒ½ä¼˜åŒ–æ¨¡æ¿

```
ä¼˜åŒ–æ€§èƒ½

ç›®æ ‡ï¼š
[å…·ä½“æ€§èƒ½ç›®æ ‡ï¼Œå¦‚å“åº”æ—¶é—´ < 100ms]

å½“å‰æ€§èƒ½ï¼š
[å½“å‰æŒ‡æ ‡]

ç“¶é¢ˆåˆ†æï¼š
[å·²çŸ¥çš„æ€§èƒ½ç“¶é¢ˆ]

ä¼˜åŒ–èŒƒå›´ï¼š
[éœ€è¦ä¼˜åŒ–çš„ä»£ç /æ¨¡å—]

è¦æ±‚ï¼š
1. åˆ†ææ€§èƒ½ç“¶é¢ˆ
2. æä¾›ä¼˜åŒ–æ–¹æ¡ˆ
3. å®æ–½ä¼˜åŒ–
4. æµ‹è¯•éªŒè¯

çº¦æŸï¼š
- ä¸æ”¹å˜ç°æœ‰ API
- ä¿æŒä»£ç å¯è¯»æ€§
- æ·»åŠ æ€§èƒ½æµ‹è¯•
```

---

## å…­ã€æ–‡ä»¶æ“ä½œ

### 6.1 è¯»å–æ–‡ä»¶

```
# åŸºæœ¬è¯»å–
è¯»å– src/index.ts

# è¯»å–å¤šä¸ªæ–‡ä»¶
è¯»å–ä»¥ä¸‹æ–‡ä»¶ï¼š
- src/index.ts
- src/utils.ts
- src/types.ts

# è¯»å–å¹¶åˆ†æ
è¯»å– src/api/users.ts å¹¶åˆ†æï¼š
1. API ç«¯ç‚¹
2. æ•°æ®éªŒè¯
3. é”™è¯¯å¤„ç†
4. æ½œåœ¨çš„å®‰å…¨é—®é¢˜
```

### 6.2 å†™å…¥æ–‡ä»¶

```
# åˆ›å»ºæ–°æ–‡ä»¶
åˆ›å»º src/services/EmailService.tsï¼Œå®ç°é‚®ä»¶å‘é€åŠŸèƒ½

# ä¿®æ”¹ç°æœ‰æ–‡ä»¶
ä¿®æ”¹ src/config/database.tsï¼Œæ·»åŠ  Redis é…ç½®

# æ‰¹é‡åˆ›å»º
åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š
1. src/models/User.ts - ç”¨æˆ·æ¨¡å‹
2. src/models/Post.ts - æ–‡ç« æ¨¡å‹
3. src/models/Comment.ts - è¯„è®ºæ¨¡å‹
```

### 6.3 æœç´¢å’Œæ›¿æ¢

```
# å…¨å±€æœç´¢
åœ¨é¡¹ç›®ä¸­æœç´¢æ‰€æœ‰ä½¿ç”¨ console.log çš„åœ°æ–¹

# æœç´¢å¹¶æ›¿æ¢
å°†æ‰€æœ‰ var å£°æ˜æ›¿æ¢ä¸º const/let

# æ­£åˆ™æœç´¢
æœç´¢æ‰€æœ‰æœªä½¿ç”¨çš„å¯¼å…¥è¯­å¥ï¼ˆæ­£åˆ™ï¼š^import .* from .* that is never usedï¼‰

# é‡å‘½å
é‡å‘½åå‡½æ•° getUserById ä¸º fetchUserByIdï¼ˆæ‰€æœ‰å¼•ç”¨ï¼‰
```

### 6.4 ä»£ç é‡æ„

```
# æå–å‡½æ•°
ä» src/components/UserProfile.tsx çš„ render æ–¹æ³•ä¸­æå–ä»¥ä¸‹é€»è¾‘ä¸ºç‹¬ç«‹å‡½æ•°ï¼š
- ç”¨æˆ·å¤´åƒæ¸²æŸ“
- ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
- æ“ä½œæŒ‰é’®ç»„

# æå–ç»„ä»¶
å°† src/pages/Dashboard.tsx ä¸­çš„ç»Ÿè®¡å¡ç‰‡æå–ä¸º StatsCard ç»„ä»¶

# é‡æ„ç±»
å°† src/services/PaymentService.ts é‡æ„ä¸ºï¼š
1. æå–æ¥å£ IPaymentService
2. åˆ†ç¦»æ”¯ä»˜ç½‘å…³é€»è¾‘ä¸º PaymentGateway
3. ä½¿ç”¨ä¾èµ–æ³¨å…¥
```

### 6.5 æ‰¹é‡æ“ä½œ

```
# æ‰¹é‡é‡å‘½å
é‡å‘½å src/components/ ç›®å½•ä¸‹æ‰€æœ‰ç»„ä»¶æ–‡ä»¶ï¼š
- ä» kebab-case.tsx æ”¹ä¸º PascalCase.tsx
- æ›´æ–°æ‰€æœ‰å¯¼å…¥è·¯å¾„

# æ‰¹é‡æ·»åŠ 
ä¸º src/api/ ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶æ·»åŠ ï¼š
1. é”™è¯¯å¤„ç†ä¸­é—´ä»¶
2. è¯·æ±‚æ—¥å¿—
3. å“åº”æ—¶é—´ç»Ÿè®¡

# æ‰¹é‡æ ¼å¼åŒ–
ä½¿ç”¨ Prettier æ ¼å¼åŒ– src/ ç›®å½•ä¸‹æ‰€æœ‰ TypeScript æ–‡ä»¶
```

---

## ä¸ƒã€Git å·¥ä½œæµ

### 7.1 åŸºç¡€ Git æ“ä½œ

```
# æŸ¥çœ‹çŠ¶æ€
æ˜¾ç¤ºå½“å‰ git çŠ¶æ€

# æŸ¥çœ‹å·®å¼‚
æ˜¾ç¤ºæœªæš‚å­˜çš„æ›´æ”¹

# æš‚å­˜æ›´æ”¹
æš‚å­˜æ‰€æœ‰æ›´æ”¹

# æäº¤
åˆ›å»ºæäº¤ï¼Œæ¶ˆæ¯ï¼š"feat: add user authentication"

# æ¨é€
æ¨é€åˆ°è¿œç¨‹ä»“åº“
```

### 7.2 åˆ†æ”¯ç®¡ç†

```
# åˆ›å»ºåˆ†æ”¯
åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ feature/user-profile

# åˆå¹¶åˆ†æ”¯
åˆå¹¶ feature/user-profile åˆ° main

# è§£å†³å†²çª
å¸®æˆ‘è§£å†³åˆå¹¶å†²çªï¼š
1. åˆ†æå†²çª
2. æä¾›è§£å†³æ–¹æ¡ˆ
3. ä¿ç•™æ­£ç¡®çš„ä»£ç 

# åˆ é™¤åˆ†æ”¯
åˆ é™¤å·²åˆå¹¶çš„ feature/user-profile åˆ†æ”¯
```

### 7.3 æäº¤è§„èŒƒ

#### Conventional Commits

```
<type>(<scope>): <subject>

<body>

<footer>
```

**ç±»å‹ï¼ˆtypeï¼‰ï¼š**

- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œï¼‰
- `refactor`: é‡æ„
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•
- `chore`: æ„å»º/å·¥å…·é“¾

**ç¤ºä¾‹ï¼š**

```bash
feat(auth): add JWT token refresh mechanism

- Implement refresh token rotation
- Add token expiration check
- Update API documentation

Closes #123
```

### 7.4 Pull Request æµç¨‹

```
åˆ›å»º Pull Requestï¼ŒåŒ…å«ï¼š

æ ‡é¢˜ï¼š
[ç®€æ´æè¿°ï¼Œå¦‚ "Add user authentication system"]

æè¿°ï¼š
## å˜æ›´æ¦‚è¿°
[æè¿°ä¸»è¦å˜æ›´]

## å˜æ›´ç±»å‹
- [ ] æ–°åŠŸèƒ½
- [ ] Bug ä¿®å¤
- [ ] é‡æ„
- [ ] æ–‡æ¡£

## æµ‹è¯•
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] æ‰‹åŠ¨æµ‹è¯•

## æ£€æŸ¥æ¸…å•
- [ ] ä»£ç é€šè¿‡ lint
- [ ] æµ‹è¯•å…¨éƒ¨é€šè¿‡
- [ ] æ›´æ–°äº†æ–‡æ¡£
- [ ] æ²¡æœ‰ç ´åæ€§å˜æ›´

## æˆªå›¾
[å¦‚æœæœ‰ UI å˜æ›´]

## ç›¸å…³ Issue
Closes #123
```

### 7.5 ä»£ç å®¡æŸ¥

```
å®¡æŸ¥ Pull Request #123

å…³æ³¨ç‚¹ï¼š
1. ä»£ç è´¨é‡
   - å‘½åè§„èŒƒ
   - ä»£ç å¤æ‚åº¦
   - é‡å¤ä»£ç 

2. åŠŸèƒ½æ­£ç¡®æ€§
   - é€»è¾‘æ­£ç¡®
   - è¾¹ç•Œæ¡ä»¶
   - é”™è¯¯å¤„ç†

3. æ€§èƒ½
   - ç®—æ³•æ•ˆç‡
   - æ•°æ®åº“æŸ¥è¯¢
   - ç¼“å­˜ä½¿ç”¨

4. å®‰å…¨
   - è¾“å…¥éªŒè¯
   - è®¤è¯æˆæƒ
   - æ•æ„Ÿæ•°æ®

5. æµ‹è¯•
   - æµ‹è¯•è¦†ç›–ç‡
   - æµ‹è¯•è´¨é‡
   - è¾¹ç•Œæµ‹è¯•

æä¾›ï¼š
- å…·ä½“çš„æ”¹è¿›å»ºè®®
- ä»£ç ç¤ºä¾‹
- æ‰¹å‡†/è¯·æ±‚ä¿®æ”¹
```

---

## å…«ã€é¡¹ç›®ç®¡ç†

### 8.1 é¡¹ç›®åˆå§‹åŒ–

```
åˆå§‹åŒ–æ–°é¡¹ç›®ï¼š

é¡¹ç›®ç±»å‹ï¼šWeb åº”ç”¨
æŠ€æœ¯æ ˆï¼š
- Frontend: React 18 + TypeScript + Vite
- Backend: Node.js + Express + TypeScript
- Database: PostgreSQL
- Styling: Tailwind CSS

åˆ›å»ºï¼š
1. é¡¹ç›®ç»“æ„
2. é…ç½®æ–‡ä»¶
3. README.md
4. .gitignore
5. åŸºç¡€ä¾èµ–
6. å¼€å‘è„šæœ¬
```

### 8.2 é¡¹ç›®ç»“æ„

**æ¨èç»“æ„ï¼š**

```
project-root/
â”œâ”€â”€ .claude.json              # Claude Code é…ç½®
â”œâ”€â”€ CLAUDE.md                 # é¡¹ç›®ä¸Šä¸‹æ–‡
â”œâ”€â”€ .mcp.json                 # MCP æœåŠ¡å™¨é…ç½®
â”œâ”€â”€ .env.example              # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ README.md
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â”‚   â”œâ”€â”€ API.md
â”‚   â”œâ”€â”€ ARCHITECTURE.md
â”‚   â””â”€â”€ CONTRIBUTING.md
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/           # ç»„ä»¶
â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ types/                # TypeScript ç±»å‹
â”‚   â”œâ”€â”€ hooks/                # React Hooks
â”‚   â”œâ”€â”€ config/               # é…ç½®
â”‚   â””â”€â”€ tests/                # æµ‹è¯•
â””â”€â”€ scripts/                  # è„šæœ¬
```

### 8.3 æ–‡æ¡£ç®¡ç†

#### API æ–‡æ¡£

```
ç”Ÿæˆ API æ–‡æ¡£ï¼š

åˆ†æ src/api/ ç›®å½•ä¸‹çš„æ‰€æœ‰è·¯ç”±
åˆ›å»º docs/API.mdï¼ŒåŒ…å«ï¼š

å¯¹äºæ¯ä¸ªç«¯ç‚¹ï¼š
- HTTP æ–¹æ³•å’Œè·¯å¾„
- è¯·æ±‚å‚æ•°
- è¯·æ±‚ä½“ç¤ºä¾‹
- å“åº”ç¤ºä¾‹
- é”™è¯¯ç 
- ä½¿ç”¨ç¤ºä¾‹ï¼ˆcurlï¼‰

æ ¼å¼ï¼šOpenAPI 3.0 é£æ ¼
```

#### æ¶æ„æ–‡æ¡£

```
ç”Ÿæˆæ¶æ„æ–‡æ¡£ï¼š

åˆ†æé¡¹ç›®ç»“æ„
åˆ›å»º docs/ARCHITECTURE.mdï¼ŒåŒ…å«ï¼š

1. ç³»ç»Ÿæ¦‚è¿°
2. æ¶æ„å›¾
3. æŠ€æœ¯æ ˆ
4. æ•°æ®æµ
5. æ ¸å¿ƒæ¨¡å—
6. è®¾è®¡å†³ç­–
7. æ€§èƒ½è€ƒè™‘
8. å®‰å…¨æªæ–½
```

### 8.4 ä¾èµ–ç®¡ç†

```
# åˆ†æä¾èµ–
åˆ†æ package.jsonï¼Œæ£€æŸ¥ï¼š
1. è¿‡æ—¶çš„ä¾èµ–
2. å®‰å…¨æ¼æ´
3. æœªä½¿ç”¨çš„ä¾èµ–
4. é‡å¤ä¾èµ–

# æ›´æ–°ä¾èµ–
å®‰å…¨æ›´æ–°æ‰€æœ‰ä¾èµ–ï¼Œé¿å…ç ´åæ€§å˜æ›´

# æ·»åŠ ä¾èµ–
æ·»åŠ  axios å¹¶é…ç½®æ‹¦æˆªå™¨

# ç§»é™¤ä¾èµ–
ç§»é™¤ lodash å¹¶ä½¿ç”¨åŸç”Ÿ JavaScript æ›¿ä»£
```

### 8.5 è„šæœ¬ç®¡ç†

**package.json scriptsï¼š**

```json
{
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "test": "vitest",
    "test:coverage": "vitest --coverage",
    "lint": "eslint . --ext ts,tsx",
    "lint:fix": "eslint . --ext ts,tsx --fix",
    "format": "prettier --write \"src/**/*.{ts,tsx}\"",
    "type-check": "tsc --noEmit",
    "prepare": "husky install"
  }
}
```

---

## ä¹ã€æ€§èƒ½ä¼˜åŒ–

### 9.1 ä»£ç ä¼˜åŒ–

```
ä¼˜åŒ–æ€§èƒ½

æ–‡ä»¶ï¼šsrc/components/LargeList.tsx

é—®é¢˜ï¼š
- æ¸²æŸ“ 10000 æ¡æ•°æ®æ—¶å¡é¡¿
- æ¯æ¬¡çŠ¶æ€æ›´æ–°éƒ½é‡æ–°æ¸²æŸ“æ•´ä¸ªåˆ—è¡¨

è¦æ±‚ï¼š
1. å®ç°è™šæ‹Ÿæ»šåŠ¨
2. ä½¿ç”¨ React.memo ä¼˜åŒ–
3. å®ç°å¢é‡åŠ è½½
4. æ·»åŠ æ€§èƒ½ç›‘æ§

ç›®æ ‡ï¼š
- åˆå§‹æ¸²æŸ“ < 100ms
- æ»šåŠ¨æµç•…ï¼ˆ60fpsï¼‰
- å†…å­˜å ç”¨ < 100MB
```

### 9.2 æ„å»ºä¼˜åŒ–

```
ä¼˜åŒ–æ„å»ºæ€§èƒ½

å½“å‰é—®é¢˜ï¼š
- æ„å»ºæ—¶é—´ > 5 åˆ†é’Ÿ
- Bundle ä½“ç§¯ > 5MB
- é¦–å±åŠ è½½ > 3s

ä¼˜åŒ–é¡¹ï¼š
1. ä»£ç åˆ†å‰²
2. Tree shaking
3. å‹ç¼©ä¼˜åŒ–
4. CDN èµ„æº
5. æ‡’åŠ è½½

é…ç½®æ–‡ä»¶ï¼švite.config.ts
```

### 9.3 æ•°æ®åº“ä¼˜åŒ–

```
ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢

é—®é¢˜æŸ¥è¯¢ï¼š
```sql
SELECT * FROM users
WHERE created_at > '2024-01-01'
ORDER BY created_at DESC
```

é—®é¢˜ï¼š
- å…¨è¡¨æ‰«æ
- æŸ¥è¯¢æ—¶é—´ > 5s
- è¿”å›ä¸å¿…è¦çš„åˆ—

è¦æ±‚ï¼š
1. æ·»åŠ ç´¢å¼•
2. ä¼˜åŒ–æŸ¥è¯¢
3. åˆ†é¡µå®ç°
4. ç¼“å­˜ç­–ç•¥

ç›®æ ‡ï¼š< 100ms
```

### 9.4 API ä¼˜åŒ–

```
ä¼˜åŒ– API æ€§èƒ½

ç«¯ç‚¹ï¼šGET /api/users

å½“å‰é—®é¢˜ï¼š
- å“åº”æ—¶é—´ > 2s
- N+1 æŸ¥è¯¢é—®é¢˜
- æ— ç¼“å­˜

ä¼˜åŒ–æ–¹æ¡ˆï¼š
1. æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
2. æ·»åŠ  Redis ç¼“å­˜
3. å“åº”æ•°æ®å‹ç¼©
4. å®ç° GraphQLï¼ˆå¯é€‰ï¼‰

ç›®æ ‡ï¼š
- å“åº”æ—¶é—´ < 200ms
- æ”¯æŒå¹¶å‘ 1000 è¯·æ±‚/s
```

### 9.5 æ€§èƒ½ç›‘æ§

```
æ·»åŠ æ€§èƒ½ç›‘æ§

è¦æ±‚ï¼š
1. å‰ç«¯æ€§èƒ½ç›‘æ§
   - FCP, LCP, CLS
   - è·¯ç”±åˆ‡æ¢æ—¶é—´
   - API è¯·æ±‚æ—¶é—´

2. åç«¯æ€§èƒ½ç›‘æ§
   - è¯·æ±‚å“åº”æ—¶é—´
   - æ•°æ®åº“æŸ¥è¯¢æ—¶é—´
   - å†…å­˜å’Œ CPU ä½¿ç”¨

3. å‘Šè­¦æœºåˆ¶
   - å“åº”æ—¶é—´è¶…è¿‡é˜ˆå€¼
   - é”™è¯¯ç‡è¶…è¿‡ 1%
   - èµ„æºä½¿ç”¨å¼‚å¸¸

å·¥å…·ï¼š
- å‰ç«¯ï¼šWeb Vitals
- åç«¯ï¼šPrometheus + Grafana
```

---

## åã€å®‰å…¨æœ€ä½³å®è·µ

### 10.1 è¾“å…¥éªŒè¯

```
æ·»åŠ è¾“å…¥éªŒè¯

æ–‡ä»¶ï¼šsrc/api/users.ts

ç«¯ç‚¹ï¼šPOST /api/users

éªŒè¯è§„åˆ™ï¼š
1. email
   - å¿…å¡«
   - æœ‰æ•ˆé‚®ç®±æ ¼å¼
   - æœ€å¤§é•¿åº¦ 255

2. password
   - å¿…å¡«
   - æœ€å°é•¿åº¦ 8
   - åŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ç‰¹æ®Šå­—ç¬¦

3. name
   - å¿…å¡«
   - æœ€å°é•¿åº¦ 2
   - æœ€å¤§é•¿åº¦ 50
   - åªèƒ½åŒ…å«å­—æ¯ã€ç©ºæ ¼ã€è¿å­—ç¬¦

ä½¿ç”¨ï¼š
- Zod è¿›è¡ŒéªŒè¯
- è¿”å›è¯¦ç»†é”™è¯¯ä¿¡æ¯
- é˜²æ­¢ SQL æ³¨å…¥
```

### 10.2 è®¤è¯æˆæƒ

```
å®ç° JWT è®¤è¯

è¦æ±‚ï¼š
1. ç”¨æˆ·æ³¨å†Œ/ç™»å½•
   - å¯†ç åŠ å¯†ï¼ˆbcryptï¼‰
   - JWT token ç”Ÿæˆ
   - Refresh token æœºåˆ¶

2. è®¤è¯ä¸­é—´ä»¶
   - Token éªŒè¯
   - æƒé™æ£€æŸ¥
   - é€Ÿç‡é™åˆ¶

3. æˆæƒ
   - åŸºäºè§’è‰²ï¼ˆRBACï¼‰
   - èµ„æºæƒé™æ£€æŸ¥

4. å®‰å…¨æªæ–½
   - Token è¿‡æœŸç­–ç•¥
   - CSRF ä¿æŠ¤
   - XSS é˜²æŠ¤
```

### 10.3 æ•°æ®å®‰å…¨

```
ä¿æŠ¤æ•æ„Ÿæ•°æ®

è¦æ±‚ï¼š
1. åŠ å¯†
   - å¯†ç ï¼šbcrypt
   - æ•æ„Ÿå­—æ®µï¼šAES-256
   - ä¼ è¾“ï¼šHTTPS/TLS

2. è„±æ•
   - æ—¥å¿—ä¸­çš„æ•æ„Ÿä¿¡æ¯
   - API å“åº”ä¸­çš„å¯†ç 
   - é”™è¯¯æ¶ˆæ¯

3. è®¿é—®æ§åˆ¶
   - æœ€å°æƒé™åŸåˆ™
   - å®¡è®¡æ—¥å¿—
   - æ•°æ®å¤‡ä»½

å®ç°ä½ç½®ï¼š
- src/utils/encryption.ts
- src/middleware/sanitize.ts
```

### 10.4 API å®‰å…¨

```
åŠ å›º API å®‰å…¨

æªæ–½ï¼š
1. è®¤è¯
   - JWT/OAuth 2.0
   - API Key

2. æˆæƒ
   - èµ„æºçº§æƒé™
   - é€Ÿç‡é™åˆ¶

3. è¾“å…¥éªŒè¯
   - å‚æ•°éªŒè¯
   - é˜²æ³¨å…¥

4. è¾“å‡ºç¼–ç 
   - XSS é˜²æŠ¤
   - JSON ç¼–ç 

5. CORS
   - ç™½åå•é…ç½®
   - é¢„æ£€è¯·æ±‚

6. è¯·æ±‚é™åˆ¶
   - é€Ÿç‡é™åˆ¶
   - è´Ÿè½½é™åˆ¶
   - è¶…æ—¶è®¾ç½®

å®ç°æ–‡ä»¶ï¼š
- src/middleware/security.ts
- src/config/cors.ts
```

### 10.5 ä¾èµ–å®‰å…¨

```
æ£€æŸ¥ä¾èµ–å®‰å…¨

ä»»åŠ¡ï¼š
1. æ‰«ææ¼æ´
   npm audit
   npm audit fix

2. æ›´æ–°ä¾èµ–
   - å®‰å…¨è¡¥ä¸
   - éªŒè¯æ›´æ–°

3. ä¾›åº”é“¾å®‰å…¨
   - éªŒè¯åŒ…ç­¾å
   - ä½¿ç”¨ lock æ–‡ä»¶
   - å®¡æŸ¥æ–°ä¾èµ–

4. è‡ªåŠ¨åŒ–
   - Dependabot
   - Snyk
   - GitHub Security Alerts

ç”ŸæˆæŠ¥å‘Šï¼šsecurity-report.md
```

---

## åä¸€ã€æ•…éšœæ’æŸ¥

### 11.1 å¸¸è§é”™è¯¯

#### é”™è¯¯ 1ï¼šAPI è¿æ¥å¤±è´¥

**ç—‡çŠ¶ï¼š**
```
Error: Could not connect to Anthropic API
```

**åŸå› ï¼š**
- API å¯†é’¥æ— æ•ˆæˆ–è¿‡æœŸ
- ç½‘ç»œè¿æ¥é—®é¢˜
- API æœåŠ¡ä¸­æ–­

**è§£å†³æ–¹æ¡ˆï¼š**

```bash
# 1. æ£€æŸ¥ API å¯†é’¥
claude auth status

# 2. æµ‹è¯•ç½‘ç»œè¿æ¥
curl https://api.anthropic.com/v1/messages

# 3. æ›´æ–° API å¯†é’¥
claude auth login

# 4. æ£€æŸ¥ä»£ç†è®¾ç½®
echo $HTTPS_PROXY
```

#### é”™è¯¯ 2ï¼šMCP æœåŠ¡å™¨æ— æ³•å¯åŠ¨

**ç—‡çŠ¶ï¼š**
```
Error: MCP server 'filesystem' failed to start
```

**åŸå› ï¼š**
- æœåŠ¡å™¨é…ç½®é”™è¯¯
- ä¾èµ–æœªå®‰è£…
- æƒé™é—®é¢˜

**è§£å†³æ–¹æ¡ˆï¼š**

```bash
# 1. æµ‹è¯•æœåŠ¡å™¨
claude mcp test filesystem

# 2. æŸ¥çœ‹æ—¥å¿—
claude debug logs --filter mcp

# 3. é‡æ–°å®‰è£…
claude mcp remove filesystem
claude mcp add filesystem -s user -- npx -y @modelcontextprotocol/server-filesystem ~/Documents

# 4. æ£€æŸ¥æƒé™
ls -la ~/.claude.json
```

#### é”™è¯¯ 3ï¼šä¸Šä¸‹æ–‡çª—å£æº¢å‡º

**ç—‡çŠ¶ï¼š**
```
Error: Context window exceeded
```

**åŸå› ï¼š**
- åŒ…å«å¤ªå¤šæ–‡ä»¶
- æ–‡ä»¶å¤ªå¤§
- å†å²å¯¹è¯å¤ªé•¿

**è§£å†³æ–¹æ¡ˆï¼š**

```bash
# 1. æ¸…é™¤å†å²
/clear

# 2. é™åˆ¶åŒ…å«æ–‡ä»¶
ç¼–è¾‘ .claude.jsonï¼š
{
  "context": {
    "include": ["src/**/*.ts"],
    "exclude": ["**/*.test.ts", "dist/**"]
  }
}

# 3. ä½¿ç”¨è¾ƒå¤§çš„æ¨¡å‹
claude chat --model claude-opus-4

# 4. åˆ†æ‰¹å¤„ç†
å°†å¤§ä»»åŠ¡æ‹†åˆ†ä¸ºå¤šä¸ªå°ä»»åŠ¡
```

### 11.2 æ€§èƒ½é—®é¢˜

#### é—®é¢˜ 1ï¼šå“åº”æ…¢

**ç—‡çŠ¶ï¼š**
- å›å¤å»¶è¿Ÿ > 30s
- é¢‘ç¹è¶…æ—¶

**è¯Šæ–­ï¼š**

```bash
# 1. æ£€æŸ¥ç½‘ç»œ
ping api.anthropic.com

# 2. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
claude --debug chat

# 3. æ£€æŸ¥ä¸Šä¸‹æ–‡å¤§å°
claude project info --stats

# 4. ç›‘æ§èµ„æº
top
```

**ä¼˜åŒ–ï¼š**

```bash
# 1. å‡å°‘ä¸Šä¸‹æ–‡
é™åˆ¶åŒ…å«çš„æ–‡ä»¶æ•°é‡

# 2. ä½¿ç”¨æ›´å¿«çš„æ¨¡å‹
claude chat --model claude-sonnet-4

# 3. æ¸…é™¤ç¼“å­˜
rm -rf ~/.claude/cache/*

# 4. é…ç½®ä»£ç†ï¼ˆå¦‚æœéœ€è¦ï¼‰
export HTTPS_PROXY=http://proxy:port
```

#### é—®é¢˜ 2ï¼šå†…å­˜å ç”¨é«˜

**ç—‡çŠ¶ï¼š**
- å†…å­˜ä½¿ç”¨ > 2GB
- ç³»ç»Ÿå˜æ…¢

**è§£å†³ï¼š**

```bash
# 1. æ¸…é™¤å†å²
claude history clear

# 2. é™åˆ¶ç¼“å­˜å¤§å°
claude config set cacheSize 100MB

# 3. é‡å¯ Claude
killall claude
claude chat

# 4. ä¼˜åŒ–é…ç½®
å‡å°‘ maxTokens
å‡å°‘åŒ…å«çš„æ–‡ä»¶
```

### 11.3 é…ç½®é—®é¢˜

#### é—®é¢˜ 1ï¼šé…ç½®æœªç”Ÿæ•ˆ

**æ£€æŸ¥æ­¥éª¤ï¼š**

```bash
# 1. éªŒè¯é…ç½®æ–‡ä»¶è¯­æ³•
cat .claude.json | jq .

# 2. æ£€æŸ¥é…ç½®ä¼˜å…ˆçº§
# é¡¹ç›®é…ç½® > ç”¨æˆ·é…ç½® > é»˜è®¤é…ç½®

# 3. æŸ¥çœ‹ç”Ÿæ•ˆçš„é…ç½®
claude config list

# 4. æµ‹è¯•é…ç½®
claude chat --config .claude.json --verbose
```

#### é—®é¢˜ 2ï¼šç¯å¢ƒå˜é‡å†²çª

```bash
# 1. æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒå˜é‡
env | grep CLAUDE
env | grep ANTHROPIC

# 2. æ¸…é™¤å†²çªå˜é‡
unset CLAUDE_API_KEY
unset ANTHROPIC_API_KEY

# 3. é‡æ–°è®¾ç½®
export ANTHROPIC_API_KEY=sk-ant-api03-...

# 4. éªŒè¯
echo $ANTHROPIC_API_KEY
claude auth status
```

### 11.4 è°ƒè¯•æŠ€å·§

#### 1. å¯ç”¨è°ƒè¯•æ¨¡å¼

```bash
# è¯¦ç»†è¾“å‡º
claude --verbose chat

# è°ƒè¯•æ¨¡å¼
claude --debug chat

# åŒæ—¶å¯ç”¨
claude --verbose --debug chat
```

#### 2. æŸ¥çœ‹æ—¥å¿—

```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f ~/.claude/logs/claude.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep ERROR ~/.claude/logs/claude.log

# æŸ¥çœ‹æœ€è¿‘æ—¥å¿—
tail -n 100 ~/.claude/logs/claude.log
```

#### 3. æµ‹è¯•è¿æ¥

```bash
# æµ‹è¯• API
claude auth status

# æµ‹è¯• MCP
claude mcp test --all

# è¯Šæ–­ç³»ç»Ÿ
claude doctor
```

#### 4. é‡ç½®é…ç½®

```bash
# å¤‡ä»½å½“å‰é…ç½®
cp ~/.claude.json ~/.claude.json.backup

# é‡ç½®é…ç½®
claude config reset

# é‡æ–°é…ç½®
claude init
```

---

## åäºŒã€ç”Ÿäº§ç¯å¢ƒå®è·µ

### 12.1 CI/CD é›†æˆ

#### GitHub Actions

**.github/workflows/claude-review.ymlï¼š**

```yaml
name: Claude Code Review

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  code-review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Install Claude Code
        run: npm install -g @anthropic-ai/claude-code

      - name: Configure Claude
        run: |
          echo "${{ secrets.ANTHROPIC_API_KEY }}" | claude auth login --stdin

      - name: Run Code Review
        run: |
          claude analyze --format json > review.json

      - name: Comment PR
        uses: actions/github-script@v7
        with:
          script: |
            const fs = require('fs');
            const review = JSON.parse(fs.readFileSync('review.json'));

            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: `## Claude Code Review\n\n${review.summary}`
            });
```

#### GitLab CI

**.gitlab-ci.ymlï¼š**

```yaml
stages:
  - review
  - test
  - deploy

claude-review:
  stage: review
  image: node:20
  before_script:
    - npm install -g @anthropic-ai/claude-code
    - echo "$ANTHROPIC_API_KEY" | claude auth login --stdin
  script:
    - claude analyze --report review.md
  artifacts:
    reports:
      codequality: review.md
  only:
    - merge_requests
```

### 12.2 Docker é›†æˆ

**Dockerfileï¼š**

```dockerfile
FROM node:20-slim

# å®‰è£… Claude Code
RUN npm install -g @anthropic-ai/claude-code

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /workspace

# é…ç½® Claude
ARG ANTHROPIC_API_KEY
ENV ANTHROPIC_API_KEY=$ANTHROPIC_API_KEY

# å¤åˆ¶é¡¹ç›®é…ç½®
COPY .claude.json /root/.claude/config.json
COPY CLAUDE.md .

# å…¥å£ç‚¹
ENTRYPOINT ["claude"]
CMD ["chat"]
```

**docker-compose.ymlï¼š**

```yaml
version: '3.8'

services:
  claude-code:
    build: .
    volumes:
      - ./:/workspace
      - ~/.claude:/root/.claude
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
    stdin_open: true
    tty: true
```

**ä½¿ç”¨ï¼š**

```bash
# æ„å»ºé•œåƒ
docker build -t claude-code .

# è¿è¡Œ
docker run -it --rm \
  -v $(pwd):/workspace \
  -e ANTHROPIC_API_KEY \
  claude-code

# ä½¿ç”¨ docker-compose
docker-compose run claude-code
```

### 12.3 å›¢é˜Ÿåä½œ

#### å›¢é˜Ÿé…ç½®

**é¡¹ç›®æ ¹ç›®å½•ï¼š.claude.json**

```json
{
  "name": "team-project",
  "version": "1.0.0",
  "model": "claude-sonnet-4",
  "context": {
    "include": [
      "src/**/*.{ts,tsx}",
      "docs/**/*.md",
      "package.json",
      "tsconfig.json"
    ],
    "exclude": [
      "node_modules/**",
      "dist/**",
      "**/*.test.ts"
    ]
  },
  "rules": [
    "ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼",
    "éµå¾ª Airbnb ä»£ç è§„èŒƒ",
    "æ‰€æœ‰å‡½æ•°å¿…é¡»æœ‰ JSDoc æ³¨é‡Š",
    "æµ‹è¯•è¦†ç›–ç‡å¿…é¡» > 80%",
    "Commit æ¶ˆæ¯éµå¾ª Conventional Commits"
  ],
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "."]
    },
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
      }
    }
  }
}
```

#### ç¯å¢ƒå˜é‡ç®¡ç†

**.env.exampleï¼š**

```bash
# API Keys
ANTHROPIC_API_KEY=sk-ant-api03-...
GITHUB_TOKEN=ghp_...

# Database
DATABASE_URL=postgresql://user:pass@localhost:5432/db

# Redis
REDIS_URL=redis://localhost:6379

# Application
NODE_ENV=development
PORT=3000
```

**å›¢é˜Ÿæ–‡æ¡£ï¼šCLAUDE.md**

```markdown
# å›¢é˜Ÿå¼€å‘æŒ‡å—

## é¡¹ç›®æ¦‚è¿°
[é¡¹ç›®æè¿°]

## å¼€å‘æµç¨‹

### 1. ç¯å¢ƒæ­å»º
```bash
# å®‰è£…ä¾èµ–
npm install

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env.local
# ç¼–è¾‘ .env.local å¡«å…¥ä½ çš„å‡­è¯

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 2. å¼€å‘è§„èŒƒ

#### åˆ†æ”¯å‘½å
- feature/åŠŸèƒ½å
- fix/bugæè¿°
- refactor/é‡æ„æè¿°

#### Commit è§„èŒƒ
éµå¾ª Conventional Commitsï¼š
- feat: æ–°åŠŸèƒ½
- fix: Bug ä¿®å¤
- docs: æ–‡æ¡£æ›´æ–°
- refactor: é‡æ„

#### ä»£ç å®¡æŸ¥
- æ‰€æœ‰ä»£ç å¿…é¡»ç»è¿‡å®¡æŸ¥
- è‡³å°‘ 1 ä¸ªå®¡æŸ¥é€šè¿‡
- CI æ£€æŸ¥å¿…é¡»é€šè¿‡

### 3. ä½¿ç”¨ Claude Code

#### å¯åŠ¨
```bash
claude chat
```

#### å¸¸ç”¨å‘½ä»¤
- å®ç°åŠŸèƒ½ï¼šè¯¦ç»†æè¿°éœ€æ±‚
- ä¿®å¤ Bugï¼šæä¾›é”™è¯¯ä¿¡æ¯å’Œå¤ç°æ­¥éª¤
- ä»£ç å®¡æŸ¥ï¼šè¯·æ±‚å®¡æŸ¥ç‰¹å®šæ–‡ä»¶
- ç”Ÿæˆæµ‹è¯•ï¼šä¸ºç°æœ‰ä»£ç ç”Ÿæˆæµ‹è¯•

### 4. æœ€ä½³å®è·µ

#### æç¤ºè¯æŠ€å·§
1. æä¾›å……åˆ†ä¸Šä¸‹æ–‡
2. æ˜ç¡®å…·ä½“éœ€æ±‚
3. å‚è€ƒç°æœ‰ä»£ç é£æ ¼
4. è¦æ±‚æµ‹è¯•å’Œæ–‡æ¡£

#### æ–‡ä»¶æ“ä½œ
1. æ˜ç¡®æŒ‡å®šæ–‡ä»¶è·¯å¾„
2. æè¿°å˜æ›´åŸå› 
3. è¦æ±‚ä¿æŒä¸€è‡´æ€§

#### Git é›†æˆ
1. ä½¿ç”¨è¯­ä¹‰åŒ–æäº¤æ¶ˆæ¯
2. æ¯ä¸ª PR èšç„¦å•ä¸€åŠŸèƒ½
3. åŠæ—¶æ›´æ–°æ–‡æ¡£
```

### 12.4 ç›‘æ§å’Œæ—¥å¿—

#### åº”ç”¨ç›‘æ§

**ç›‘æ§é…ç½®ï¼šmonitoring.ts**

```typescript
import { createLogger } from 'winston';
import { PrometheusExporter } from '@opentelemetry/exporter-prometheus';

// æ—¥å¿—é…ç½®
export const logger = createLogger({
  level: 'info',
  format: winston.format.json(),
  transports: [
    new winston.transports.File({
      filename: 'error.log',
      level: 'error'
    }),
    new winston.transports.File({
      filename: 'combined.log'
    }),
  ],
});

// æŒ‡æ ‡å¯¼å‡º
export const metricsExporter = new PrometheusExporter({
  port: 9464,
});

// Claude Code ä½¿ç”¨ç»Ÿè®¡
export function trackClaudeUsage(operation: string, duration: number) {
  logger.info('Claude operation', {
    operation,
    duration,
    timestamp: new Date().toISOString(),
  });

  // è®°å½•åˆ° Prometheus
  claudeOperationDuration.record(duration, { operation });
}
```

#### é”™è¯¯è¿½è¸ª

**é›†æˆ Sentryï¼š**

```typescript
import * as Sentry from '@sentry/node';

Sentry.init({
  dsn: process.env.SENTRY_DSN,
  environment: process.env.NODE_ENV,
  tracesSampleRate: 1.0,
});

// æ•è· Claude Code é”™è¯¯
process.on('uncaughtException', (error) => {
  Sentry.captureException(error);
  logger.error('Uncaught exception', { error });
});
```

### 12.5 æ€§èƒ½ä¼˜åŒ–

#### ç¼“å­˜ç­–ç•¥

```typescript
import Redis from 'ioredis';

const redis = new Redis(process.env.REDIS_URL);

// ç¼“å­˜ Claude å“åº”
export async function getCachedResponse(
  prompt: string
): Promise<string | null> {
  const cacheKey = `claude:${hash(prompt)}`;
  return await redis.get(cacheKey);
}

export async function cacheResponse(
  prompt: string,
  response: string,
  ttl: number = 3600
): Promise<void> {
  const cacheKey = `claude:${hash(prompt)}`;
  await redis.setex(cacheKey, ttl, response);
}
```

#### è¯·æ±‚é˜Ÿåˆ—

```typescript
import Queue from 'bull';

const claudeQueue = new Queue('claude-requests', {
  redis: process.env.REDIS_URL
});

// å¤„ç†é˜Ÿåˆ—ä»»åŠ¡
claudeQueue.process(async (job) => {
  const { prompt, options } = job.data;

  // è°ƒç”¨ Claude Code
  const response = await executeClaudeRequest(prompt, options);

  return response;
});

// æ·»åŠ ä»»åŠ¡åˆ°é˜Ÿåˆ—
export async function queueClaudeRequest(
  prompt: string,
  options: any
): Promise<Job> {
  return await claudeQueue.add({
    prompt,
    options
  }, {
    attempts: 3,
    backoff: {
      type: 'exponential',
      delay: 2000
    }
  });
}
```

---

## åä¸‰ã€é™„å½•

### 13.1 å¿«æ·é”®å’Œå‘½ä»¤

#### äº¤äº’å¼ä¼šè¯å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl+C` | ä¸­æ–­å½“å‰æ“ä½œ |
| `Ctrl+D` | é€€å‡ºä¼šè¯ |
| `â†‘` / `â†“` | å†å²å‘½ä»¤å¯¼èˆª |
| `Tab` | è‡ªåŠ¨è¡¥å…¨ |
| `Ctrl+L` | æ¸…å± |

#### å†…ç½®å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `/help` | æ˜¾ç¤ºå¸®åŠ© |
| `/clear` | æ¸…é™¤å¯¹è¯å†å² |
| `/history` | æŸ¥çœ‹å†å²è®°å½• |
| `/save` | ä¿å­˜å½“å‰ä¼šè¯ |
| `/load` | åŠ è½½ä¿å­˜çš„ä¼šè¯ |
| `/context` | æŸ¥çœ‹å½“å‰ä¸Šä¸‹æ–‡ |
| `/mcp` | MCP æœåŠ¡å™¨çŠ¶æ€ |
| `/config` | æŸ¥çœ‹é…ç½® |
| `/exit` | é€€å‡º |

### 13.2 æ¨¡å‹é€‰æ‹©æŒ‡å—

| æ¨¡å‹ | ç”¨é€” | ç‰¹ç‚¹ | æˆæœ¬ |
|------|------|------|------|
| Claude Opus 4 | å¤æ‚ä»»åŠ¡ | æœ€å¼ºèƒ½åŠ› | é«˜ |
| Claude Sonnet 4 | æ—¥å¸¸å¼€å‘ | å¹³è¡¡æ€§èƒ½ | ä¸­ |
| Claude Haiku 3 | ç®€å•ä»»åŠ¡ | å¿«é€Ÿå“åº” | ä½ |

**é€‰æ‹©å»ºè®®ï¼š**

- **Opus**ï¼šæ¶æ„è®¾è®¡ã€å¤æ‚é‡æ„ã€æ€§èƒ½ä¼˜åŒ–
- **Sonnet**ï¼šåŠŸèƒ½å¼€å‘ã€ä»£ç å®¡æŸ¥ã€Bug ä¿®å¤
- **Haiku**ï¼šç®€å•ä¿®æ”¹ã€æ ¼å¼åŒ–ã€æ–‡æ¡£ç”Ÿæˆ

### 13.3 èµ„æºé“¾æ¥

**å®˜æ–¹èµ„æºï¼š**
- [Claude Code å®˜æ–¹æ–‡æ¡£](https://docs.anthropic.com/claude/docs/claude-code)
- [MCP åè®®è§„èŒƒ](https://github.com/anthropics/model-context-protocol)
- [Anthropic API æ–‡æ¡£](https://docs.anthropic.com/claude/reference)

**ç¤¾åŒºèµ„æºï¼š**
- [GitHub Issues](https://github.com/anthropics/claude-code/issues)
- [Discord ç¤¾åŒº](https://discord.gg/anthropic)
- [è®ºå›è®¨è®º](https://forum.anthropic.com)

**å­¦ä¹ èµ„æºï¼š**
- [æç¤ºè¯å·¥ç¨‹æŒ‡å—](https://docs.anthropic.com/claude/docs/prompt-engineering)
- [æœ€ä½³å®è·µé›†](https://docs.anthropic.com/claude/docs/best-practices)
- [ç¤ºä¾‹é¡¹ç›®](https://github.com/anthropics/claude-code-examples)

### 13.4 æœ¯è¯­è¡¨

| æœ¯è¯­ | è¯´æ˜ |
|------|------|
| **MCP** | Model Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®® |
| **Token** | æ–‡æœ¬å•å…ƒï¼Œçº¦ç­‰äº 0.75 ä¸ªè‹±æ–‡å•è¯ |
| **Context Window** | ä¸Šä¸‹æ–‡çª—å£ï¼Œæ¨¡å‹ä¸€æ¬¡å¯å¤„ç†çš„æœ€å¤§ token æ•° |
| **Prompt** | æç¤ºè¯ï¼Œå‘é€ç»™ AI çš„æŒ‡ä»¤ |
| **Temperature** | æ¸©åº¦å‚æ•°ï¼Œæ§åˆ¶è¾“å‡ºéšæœºæ€§ï¼ˆ0-1ï¼‰ |
| **System Prompt** | ç³»ç»Ÿæç¤ºè¯ï¼Œå®šä¹‰ AI è¡Œä¸º |
| **Few-shot** | å°‘æ ·æœ¬å­¦ä¹ ï¼Œæä¾›ç¤ºä¾‹ä»¥æ”¹è¿›è¾“å‡º |
| **Fine-tuning** | å¾®è°ƒï¼Œä½¿ç”¨ç‰¹å®šæ•°æ®è®­ç»ƒæ¨¡å‹ |

### 13.5 å¸¸è§é—®é¢˜ FAQ

**Q: Claude Code æ˜¯å¦å…è´¹ï¼Ÿ**
A: Claude Code CLI å·¥å…·æœ¬èº«å…è´¹ï¼Œä½†éœ€è¦ Anthropic API å¯†é’¥ï¼ŒAPI è°ƒç”¨æŒ‰ä½¿ç”¨é‡è®¡è´¹ã€‚

**Q: å¦‚ä½•æŸ¥çœ‹ API ä½¿ç”¨é‡ï¼Ÿ**
A: ç™»å½• [Anthropic Console](https://console.anthropic.com/) æŸ¥çœ‹è¯¦ç»†çš„ä½¿ç”¨ç»Ÿè®¡ã€‚

**Q: æ”¯æŒç¦»çº¿ä½¿ç”¨å—ï¼Ÿ**
A: ä¸æ”¯æŒã€‚Claude Code éœ€è¦ç½‘ç»œè¿æ¥æ¥è°ƒç”¨ Anthropic APIã€‚

**Q: æ•°æ®å®‰å…¨å—ï¼Ÿ**
A: å‘é€åˆ° API çš„æ•°æ®ä¸ä¼šç”¨äºè®­ç»ƒæ¨¡å‹ã€‚è¯¦è§ [éšç§æ”¿ç­–](https://www.anthropic.com/privacy)ã€‚

**Q: å¦‚ä½•å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Ÿ**
A: è¿è¡Œ `npm update -g @anthropic-ai/claude-code`

**Q: æ”¯æŒå“ªäº›ç¼–ç¨‹è¯­è¨€ï¼Ÿ**
A: æ”¯æŒæ‰€æœ‰ä¸»æµç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬ TypeScriptã€Pythonã€Javaã€Goã€Rust ç­‰ã€‚

**Q: èƒ½å¦åœ¨å…¬å¸å†…éƒ¨ä½¿ç”¨ï¼Ÿ**
A: å¯ä»¥ã€‚å»ºè®®æŸ¥çœ‹ [ä¼ä¸šç‰ˆæ–¹æ¡ˆ](https://www.anthropic.com/claude/enterprise)ã€‚

**Q: MCP æœåŠ¡å™¨è¿è¡Œåœ¨å“ªé‡Œï¼Ÿ**
A: MCP æœåŠ¡å™¨åœ¨æœ¬åœ°è¿è¡Œï¼Œé€šè¿‡è¿›ç¨‹é€šä¿¡ä¸ Claude Code äº¤äº’ã€‚

---

## ğŸ“š æ€»ç»“

æœ¬æŒ‡å—æ¶µç›–äº† Claude Code çš„ï¼š

âœ… **åŸºç¡€åŠŸèƒ½**
- å®‰è£…é…ç½®
- CLI å‘½ä»¤
- æ–‡ä»¶æ“ä½œ

âœ… **è¿›é˜¶ç‰¹æ€§**
- MCP é›†æˆ
- æç¤ºè¯å·¥ç¨‹
- Git å·¥ä½œæµ

âœ… **ç”Ÿäº§å®è·µ**
- CI/CD é›†æˆ
- æ€§èƒ½ä¼˜åŒ–
- å®‰å…¨æœ€ä½³å®è·µ

âœ… **æ•…éšœæ’æŸ¥**
- å¸¸è§é”™è¯¯
- è°ƒè¯•æŠ€å·§
- æ€§èƒ½ä¼˜åŒ–

### ğŸ¯ ä¸‹ä¸€æ­¥

1. **æ–°æ‰‹**ï¼šä»[ç¬¬ä¸€è¯¾](./01-åŸºç¡€æ¦‚å¿µ.md)å¼€å§‹ç³»ç»Ÿå­¦ä¹ 
2. **è¿›é˜¶**ï¼šæŸ¥çœ‹[ç¬¬ä¹è¯¾ï¼šæç¤ºè¯ä¼˜åŒ–](./09-æç¤ºè¯ä¼˜åŒ–æŠ€å·§.md)
3. **é«˜çº§**ï¼šå­¦ä¹ [ç¬¬åè¯¾ï¼šAI å­ä»£ç†ç³»ç»Ÿ](./10-AIå­ä»£ç†ç³»ç»Ÿ.md)

### ğŸ’¡ æŒç»­å­¦ä¹ 

- å…³æ³¨å®˜æ–¹æ›´æ–°
- å‚ä¸ç¤¾åŒºè®¨è®º
- åˆ†äº«ä½¿ç”¨ç»éªŒ
- è´¡çŒ®æœ€ä½³å®è·µ

---

**æœ¬æŒ‡å—ä¼šæŒç»­æ›´æ–°**ï¼Œè¯·å…³æ³¨ [GitHub ä»“åº“](https://github.com/0xfnzero/AI-Code-Tutorials) è·å–æœ€æ–°å†…å®¹ã€‚

ğŸ“š [è¿”å›æ•™ç¨‹ç›®å½•](../README.md)
