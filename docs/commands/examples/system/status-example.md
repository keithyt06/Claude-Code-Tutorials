# `/status` 命令示例

## 概述
`/status` 命令打开设置界面，显示状态标签页，包含系统信息，如版本、model、账户详情和连接状态。

## 何时使用
- 检查 Claude Code 版本
- 验证账户信息
- 确认当前 model
- 排查连接问题
- 查看系统配置
- 检查更新

## 示例用法

### 场景 1：基本状态检查

```
User: /status

Claude Code: 系统状态
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Claude Code 状态仪表板

版本信息：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
├─ Claude Code: v1.2.3
├─ 发布日期：2025-01-05
├─ 最新版本：v1.2.3 ✓
└─ 有可用更新：否

Model 信息：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
├─ 当前 model: Claude Sonnet 4.5
├─ Model ID: claude-sonnet-4-5-20250929
├─ Context 窗口：200,000 tokens
└─ API 版本：2024-10-22

账户信息：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
├─ 邮箱：user@example.com
├─ 套餐：Claude Pro
├─ 组织：个人
└─ 账户状态：活跃 ✓

连接：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
├─ API 状态：🟢 已连接
├─ 响应时间：234ms (良好)
├─ 最后请求：2 秒前
└─ 网络：稳定

系统信息：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
├─ OS: macOS 14.2.1
├─ Node.js: v20.10.0
├─ 工作目录：~/dev/myproject
└─ 会话持续时间：1h 23m

总体状态：🟢 所有系统正常运行
```

### 场景 2：连接问题

```
User: /status

Claude Code: 系统状态
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️  检测到连接问题

连接：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
├─ API 状态：🔴 未连接
├─ 最后成功请求：5 分钟前
├─ 失败尝试：3
└─ 网络：需要检查

错误详情：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
类型：网络超时
消息：无法访问 api.anthropic.com
代码：ETIMEDOUT

故障排除步骤：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[1] 检查互联网连接
[2] 验证防火墙设置
[3] 测试 API 连接：curl https://api.anthropic.com
[4] 检查 Anthropic 状态：https://status.anthropic.com
[5] 运行诊断：/doctor

重试连接？(y/n)
```

### 场景 3：有可用更新

```
User: /status

Claude Code: 系统状态
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔔 有可用更新

版本信息：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
├─ 当前：v1.2.3
├─ 可用：v1.3.0
├─ 发布日期：2025-01-08
└─ 类型：次要更新

v1.3.0 新功能：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✨ 新功能：
  - 增强的 context 可视化
  - 改进的 agent 性能
  - 新的 MCP server 集成

🐛 Bug 修复：
  - 修复文件监视器问题
  - 改进错误处理
  - 内存泄漏修复

⚡ 性能：
  - 响应速度提升 20%
  - 减少内存使用

立即更新：
npm install -g @anthropic/claude-code@latest

或

稍后更新：您当前的版本将继续工作

[查看完整更新日志](https://github.com/anthropics/claude-code/releases/tag/v1.3.0)
```

## 状态组件

### 版本状态

```
当前版本：v1.2.3
最新版本：v1.2.3

状态：✓ 最新

自动更新：
[ ] 已启用
    检查更新：手动

更新渠道：
(•) 稳定版
( ) Beta

上次更新检查：2 小时前
下次检查：22 小时后
```

### Model 状态

```
当前：Claude Sonnet 4.5
状态：✓ 可用

备用 models：
├─ Claude Opus (最慢，功能最强)
├─ Claude Sonnet 4.5 (平衡) ✓ 当前
└─ Claude Haiku (最快，效率最高)

切换 model: /model
```

### 账户状态

```
账户：user@example.com
套餐：Claude Pro ($20/月)
状态：活跃 ✓

订阅：
├─ 开始日期：2024-12-01
├─ 下次计费：2025-02-01
├─ 自动续订：是
└─ 付款方式：•••• 4242

本期使用：
├─ 消息数：4,816 / 无限制
├─ 状态：正常使用
└─ 重置：2025-02-01

管理：https://claude.ai/account
```

### 连接状态

```
API 连接：
🟢 已连接
响应时间：234ms (良好)

性能：
├─ 平均响应：1.2秒
├─ 成功率：99.8%
├─ 失败请求：2 (最近 24h)
└─ 运行时间：99.9%

网络质量：
🟢 优秀
└─ 未检测到问题

上次测试：15 秒前
测试连接：运行中...
```

### 系统健康

```
系统资源：
├─ CPU: 2.3% (良好)
├─ 内存：245 MB / 16 GB (1.5%)
├─ 磁盘空间：512 GB 可用
└─ 负载平均：0.45

进程健康：
├─ 主进程：运行中 ✓
├─ 后台任务：2 个活动
├─ MCP servers: 3 个已连接
└─ Hooks: 4 个已启用

Cache:
├─ 大小：128 MB
├─ 命中率：87%
└─ 上次清理：3 天前

会话：
├─ 持续时间：1h 23m
├─ 消息数：24
├─ 使用 tokens: 45,234
└─ 访问文件：12
```

## 快速操作

```
User: /status

[显示状态仪表板]

快速操作：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[1] 检查更新
[2] 测试 API 连接
[3] 查看详细日志
[4] 清除 cache
[5] 运行诊断 (/doctor)
[6] 打开配置
[7] 查看账户设置

选择操作 (1-7) 或按 Enter 关闭：

User: 2

测试 API 连接...

✓ 正在连接到 api.anthropic.com
✓ 认证已验证
✓ API 访问已确认
✓ Model 可用性已检查

连接测试：通过
响应时间：187ms
状态：所有系统正常运行
```

## 详细状态

```
User: /status --detailed

Claude Code: 详细系统状态
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

安装：
├─ 安装路径：/usr/local/lib/node_modules/@anthropic/claude-code
├─ 配置路径：~/.config/claude/
├─ 数据路径：~/.local/share/claude/
├─ Cache 路径：~/.cache/claude/
└─ 安装方法：npm global

依赖：
├─ axios: v1.6.2 ✓
├─ chalk: v5.3.0 ✓
├─ commander: v11.1.0 ✓
├─ inquirer: v9.2.12 ✓
└─ 所有依赖：✓ 最新

配置：
├─ 配置文件：~/.config/claude/config.json
├─ 有效：是 ✓
├─ 备份可用：是
└─ 最后修改：2025-01-07 14:23

环境：
├─ NODE_ENV: production
├─ ANTHROPIC_API_KEY: 已设置 ✓
├─ HTTP_PROXY: 未设置
├─ HTTPS_PROXY: 未设置
└─ NO_PROXY: 未设置

功能：
├─ Sandbox mode: 可用 ✓
├─ Vim mode: 已启用
├─ Status line: 已启用
├─ Hooks: 4 个已配置
└─ MCP servers: 3 个已连接

遥测：
├─ 使用统计：已启用
├─ 错误报告：已启用
└─ 隐私模式：标准

会话统计：
├─ 今天的会话：3
├─ 总会话：67
├─ 平均持续时间：1h 45m
├─ 总运行时间：115h 23m
└─ 成功率：99.2%
```

## 导出状态

```
User: /status --export

Claude Code: 导出系统状态
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

格式：
[1] JSON
[2] 文本
[3] Markdown

User: 3

已导出到：claude-status-2025-01-08.md

# Claude Code 系统状态
日期：2025-01-08 14:45:23

## 版本
- Claude Code: v1.2.3
- 最新：v1.2.3 ✓

## Model
- 当前：Claude Sonnet 4.5
- Context: 200,000 tokens

## 账户
- 邮箱：user@example.com
- 套餐：Claude Pro
- 状态：活跃 ✓

## 连接
- API: 已连接 🟢
- 响应：234ms
- 运行时间：99.9%

[完整报告已保存]
```

## 故障排除

### Status 命令无法工作

```
User: /status
[无响应]

尝试：
1. 检查 Claude Code 是否运行：
   ps aux | grep claude

2. 重启 Claude Code：
   exit (或 Ctrl+D)
   claude

3. 检查错误：
   claude --version
   claude --help

4. 如需要则重新安装：
   npm install -g @anthropic/claude-code
```

### 连接总是失败

```
状态显示：🔴 未连接

诊断：
1. 测试互联网：
   ping google.com

2. 测试 API：
   curl https://api.anthropic.com

3. 检查 API key：
   echo $ANTHROPIC_API_KEY

4. 检查防火墙：
   允许 api.anthropic.com

5. 运行诊断：
   /doctor
```

## 最佳实践

### 定期检查

```
✓ 每周检查 /status
✓ 监控更新
✓ 审查连接
✓ 跟踪账户状态
✓ 导出状态以备记录
```

### 状态监控

```
晨间检查：
User: /status

重要工作前：
User: /status

问题后：
User: /status --detailed
```

## 相关命令

- `/doctor` - 运行健康诊断
- `/config` - 查看/编辑配置
- `/model` - 检查/更改 model
- `/login` - 账户管理
- `/usage` - 使用统计

## 提示

- 遇到问题时检查 `/status`
- 导出状态用于支持工单
- 监控更新通知
- 定期审查连接
- 保持版本最新
- 故障排除时使用 `/status --detailed`

## 常见问题

**问：应该多久检查一次状态？**
答：每周检查更新，遇到问题时立即检查。

**问：连接状态是什么意思？**
答：显示 Claude Code 是否能访问 Anthropic 的 API server。

**问：可以隐藏状态仪表板吗？**
答：只在运行 `/status` 时显示，然后自动关闭。

**问：检查状态会使用 tokens 吗？**
答：不会，`/status` 是本地命令，无 token 成本。

**问：如何更新 Claude Code？**
答：运行 `npm install -g @anthropic/claude-code@latest`

**问：如果状态显示问题但一切正常怎么办？**
答：运行 `/doctor` 进行全面诊断。
